<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Practice Tool - Stock Valuation</title>

    <!-- KaTeX for LaTeX rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <link rel="stylesheet" href="practice.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-nav">
                <a href="index.html" class="back-link">← Back to Topics</a>
            </div>
            <h1>Stock Valuation</h1>
            <div class="subtitle">Week 3 - MGMT 408</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
            <div class="problem-number" id="progressText">Problem 1 of 10</div>
        </header>

        <div class="problem-card" id="problemCard">
            <div class="problem-header">
                <div class="problem-meta">
                    <span class="badge" id="difficultyBadge">Easy</span>
                    <span class="badge" style="background-color: #EBF8FF; color: #2C5282;" id="topicBadge">Topic</span>
                </div>
            </div>

            <div class="problem-text" id="problemText">
                Loading problem...
            </div>

            <div class="formula-box hidden" id="formulaBox">
                <div class="formula-label">Formula:</div>
                <div id="formulaText"></div>
            </div>

            <div class="answer-section">
                <div class="input-group">
                    <label for="answerInput">Your Answer:</label>
                    <input type="number" id="answerInput" step="0.01" placeholder="Enter your answer">
                    <button class="btn-primary" id="submitBtn" onclick="checkAnswer()">Submit</button>
                </div>
            </div>

            <div id="feedbackBox" class="hidden"></div>

            <div class="navigation">
                <button class="btn-secondary" id="prevBtn" onclick="previousProblem()">Previous</button>
                <button class="btn-secondary" id="nextBtn" onclick="nextProblem()">Next Problem</button>
            </div>
        </div>
    </div>

    <!-- Calculator Toolbar -->
    <div class="calculator-toolbar">
        <button class="calculator-toggle-btn" onclick="toggleCalculator()">
            Calculator
        </button>
        <div class="calculator-container" id="calculatorContainer">
            <div class="calculator-display">
                <div class="calculator-expression" id="calcExpression">&nbsp;</div>
                <div class="calculator-result" id="calcResult">0</div>
            </div>
            <div class="calculator-buttons">
                <button class="calc-btn calc-btn-clear" onclick="calcClear()">AC</button>
                <button class="calc-btn" onclick="calcBackspace()">Del</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('^')">x^y</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('/')">÷</button>

                <button class="calc-btn" onclick="calcAppend('7')">7</button>
                <button class="calc-btn" onclick="calcAppend('8')">8</button>
                <button class="calc-btn" onclick="calcAppend('9')">9</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('*')">x</button>

                <button class="calc-btn" onclick="calcAppend('4')">4</button>
                <button class="calc-btn" onclick="calcAppend('5')">5</button>
                <button class="calc-btn" onclick="calcAppend('6')">6</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('-')">-</button>

                <button class="calc-btn" onclick="calcAppend('1')">1</button>
                <button class="calc-btn" onclick="calcAppend('2')">2</button>
                <button class="calc-btn" onclick="calcAppend('3')">3</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('+')">+</button>

                <button class="calc-btn" onclick="calcAppend('0')">0</button>
                <button class="calc-btn" onclick="calcAppend('.')">.</button>
                <button class="calc-btn" onclick="calcAppend('(')">(</button>
                <button class="calc-btn" onclick="calcAppend(')')">)</button>

                <button class="calc-btn calc-btn-equals" onclick="calcEquals()" style="grid-column: span 4;">=</button>
            </div>
        </div>
    </div>

    <script>
        window.pageConfig = { topicKey: 'stocks' };

        var problems = [
            {
                "id": "stock_001",
                "topic": "One-Year Holding Period",
                "difficulty": "easy",
                "problem_text": "You are considering purchasing Apple stock and plan to hold it for one year. You expect the stock price to be $280 per share at the end of the year. Apple pays an annual dividend of approximately $1.04 per share (paid at year end). If similar investments offer an expected return of 9%, what is the maximum price you should pay for the stock today?",
                "formula": "P_0 = \\frac{Div_1 + P_1}{1 + r_E}",
                "solution_steps": [
                    "Step 1: Identify the cash flows you'll receive: Div1 = $1.04, P1 = $280",
                    "Step 2: The required return is rE = 9% = 0.09",
                    "Step 3: Apply the one-year valuation formula: P0 = (Div1 + P1) / (1 + rE)",
                    "Step 4: Substitute values: P0 = (1.04 + 280) / 1.09",
                    "Step 5: Calculate: P0 = 281.04 / 1.09",
                    "Step 6: Final answer: P0 = $257.93"
                ],
                "correct_answer": 257.93,
                "hints": {
                    "level_1": "The stock price today equals the present value of all cash flows you'll receive (dividend plus future sale price)",
                    "level_2": "The formula is: P0 = (Div1 + P1) / (1 + rE)",
                    "level_3": "Plug in the numbers: (1.04 + 280) / 1.09 = 281.04 / 1.09"
                }
            },
            {
                "id": "stock_002",
                "topic": "Dividend Yield and Capital Gains",
                "difficulty": "easy",
                "problem_text": "Microsoft stock is currently trading at $420 per share and pays an annual dividend of $3.00. Calculate the dividend yield as a percentage.",
                "formula": "\\text{Dividend Yield} = \\frac{Div_1}{P_0}",
                "solution_steps": [
                    "Step 1: Identify the variables: Div1 = $3.00, P0 = $420",
                    "Step 2: Apply the dividend yield formula: Dividend Yield = Div1 / P0",
                    "Step 3: Calculate: Dividend Yield = 3.00 / 420",
                    "Step 4: Dividend Yield = 0.00714",
                    "Step 5: Convert to percentage: 0.714%",
                    "Step 6: Final answer: Dividend Yield = 0.71%"
                ],
                "correct_answer": 0.71,
                "unit": "percent",
                "hints": {
                    "level_1": "Dividend yield measures what percentage of the stock price is returned as dividends each year",
                    "level_2": "The formula is: Dividend Yield = Annual Dividend / Current Price",
                    "level_3": "Calculate: 3.00 / 420 = 0.00714, then multiply by 100 to get percentage"
                }
            },
            {
                "id": "stock_003",
                "topic": "Gordon Growth Model",
                "difficulty": "easy",
                "problem_text": "Verizon expects to pay a dividend of $2.70 per share next year. Analysts forecast that dividends will grow at a constant rate of 2% per year indefinitely. If investors require a 7% return on Verizon stock, what should be the current stock price?",
                "formula": "P_0 = \\frac{Div_1}{r_E - g}",
                "solution_steps": [
                    "Step 1: Identify the variables: Div1 = $2.70, rE = 7% = 0.07, g = 2% = 0.02",
                    "Step 2: This is a constant growth dividend model (Gordon Growth Model)",
                    "Step 3: Apply the formula: P0 = Div1 / (rE - g)",
                    "Step 4: Substitute: P0 = 2.70 / (0.07 - 0.02)",
                    "Step 5: Calculate: P0 = 2.70 / 0.05",
                    "Step 6: Final answer: P0 = $54.00"
                ],
                "correct_answer": 54.00,
                "hints": {
                    "level_1": "When dividends grow at a constant rate forever, the stock is valued as a growing perpetuity",
                    "level_2": "Use the Gordon Growth Model: P0 = Div1 / (rE - g)",
                    "level_3": "Calculate: 2.70 / (0.07 - 0.02) = 2.70 / 0.05"
                }
            },
            {
                "id": "stock_004",
                "topic": "Earnings Growth Rate",
                "difficulty": "medium",
                "problem_text": "A technology company reinvests 60% of its earnings back into the business (retention rate = 60%). These reinvested earnings generate a return on investment of 18%. What is the expected growth rate of earnings (as a percentage)?",
                "formula": "g = b \\times r_{ROI}",
                "solution_steps": [
                    "Step 1: Identify the variables: b (retention rate) = 60% = 0.60, rROI = 18% = 0.18",
                    "Step 2: Growth comes from reinvesting earnings at a positive return",
                    "Step 3: Apply the growth formula: g = b × rROI",
                    "Step 4: Calculate: g = 0.60 × 0.18",
                    "Step 5: g = 0.108",
                    "Step 6: Final answer: g = 10.8%"
                ],
                "correct_answer": 10.8,
                "unit": "percent",
                "hints": {
                    "level_1": "Earnings growth depends on how much is reinvested and the return earned on that investment",
                    "level_2": "The formula is: g = Retention Rate × Return on Investment",
                    "level_3": "Calculate: 0.60 × 0.18 = 0.108, then convert to 10.8%"
                }
            },
            {
                "id": "stock_005",
                "topic": "Dividend Policy and Growth",
                "difficulty": "medium",
                "problem_text": "Pacific Industries has earnings per share of $8.00 and currently pays out all earnings as dividends with no growth. The stock trades at $80. Management decides to retain 30% of earnings to invest in projects earning 15%. If the required return stays at 10%, what will be the new stock price?",
                "formula": "P_0 = \\frac{Div_1}{r_E - g}, \\text{ where } g = b \\times r_{ROI}",
                "solution_steps": [
                    "Step 1: Calculate new dividend: Div1 = EPS × (1 - retention) = 8.00 × 0.70 = $5.60",
                    "Step 2: Calculate growth rate: g = b × rROI = 0.30 × 0.15 = 0.045 = 4.5%",
                    "Step 3: Apply the Gordon Growth Model: P0 = Div1 / (rE - g)",
                    "Step 4: Substitute: P0 = 5.60 / (0.10 - 0.045)",
                    "Step 5: Calculate: P0 = 5.60 / 0.055",
                    "Step 6: Final answer: P0 = $101.82"
                ],
                "correct_answer": 101.82,
                "hints": {
                    "level_1": "First find the new dividend (70% of earnings), then calculate the growth rate from retained earnings",
                    "level_2": "New Div = $5.60, Growth rate = 30% × 15% = 4.5%",
                    "level_3": "Apply Gordon Growth: P0 = 5.60 / (0.10 - 0.045) = 5.60 / 0.055"
                }
            },
            {
                "id": "stock_006",
                "topic": "P/E Ratio Basics",
                "difficulty": "easy",
                "problem_text": "Johnson & Johnson has earnings per share of $10.50 and its stock currently trades at $157.50. The company distributes all earnings as dividends. What is the P/E ratio?",
                "formula": "P/E = \\frac{P_0}{EPS}",
                "solution_steps": [
                    "Step 1: Identify the variables: P0 = $157.50, EPS = $10.50",
                    "Step 2: The P/E ratio measures how much investors pay per dollar of earnings",
                    "Step 3: Apply the formula: P/E = P0 / EPS",
                    "Step 4: Calculate: P/E = 157.50 / 10.50",
                    "Step 5: Final answer: P/E = 15.0"
                ],
                "correct_answer": 15.0,
                "hints": {
                    "level_1": "The P/E ratio tells you how many dollars investors pay for each dollar of earnings",
                    "level_2": "Simply divide the stock price by earnings per share",
                    "level_3": "Calculate: 157.50 / 10.50"
                }
            },
            {
                "id": "stock_007",
                "topic": "P/E Ratio with Growth",
                "difficulty": "medium",
                "problem_text": "After Pacific Industries changes its dividend policy (retaining 30%, paying $5.60 dividend with 4.5% growth), the stock price rises to $101.82. With EPS still at $8.00, what is the new P/E ratio?",
                "formula": "P/E = \\frac{P_0}{EPS}",
                "solution_steps": [
                    "Step 1: Identify the variables: P0 = $101.82, EPS = $8.00",
                    "Step 2: Note that EPS hasn't changed, but the stock price has",
                    "Step 3: Apply the P/E formula: P/E = P0 / EPS",
                    "Step 4: Calculate: P/E = 101.82 / 8.00",
                    "Step 5: Final answer: P/E = 12.73"
                ],
                "correct_answer": 12.73,
                "hints": {
                    "level_1": "The P/E ratio calculation is the same regardless of growth - price divided by EPS",
                    "level_2": "Use the new price with the unchanged EPS",
                    "level_3": "Calculate: 101.82 / 8.00"
                }
            },
            {
                "id": "stock_008",
                "topic": "Multi-Stage Growth Model",
                "difficulty": "hard",
                "problem_text": "TechStart Inc. is a young company that will reinvest all earnings for the next 4 years (no dividends). Starting in Year 5, it will pay a dividend of $3.00 per share, and dividends will grow at 5% annually forever after that. If the required return is 12%, what is the stock price today?",
                "formula": "P_0 = \\frac{Div_5 / (r_E - g)}{(1 + r_E)^4}",
                "solution_steps": [
                    "Step 1: First dividend of $3.00 is paid at end of Year 5, then grows at 5% forever",
                    "Step 2: Calculate the stock price at Year 4 (one year before first dividend)",
                    "Step 3: At Year 4, this becomes a growing perpetuity: P4 = Div5 / (rE - g)",
                    "Step 4: P4 = 3.00 / (0.12 - 0.05) = 3.00 / 0.07 = $42.86",
                    "Step 5: Discount P4 back to today: P0 = P4 / (1.12)^4",
                    "Step 6: Calculate: (1.12)^4 = 1.5735",
                    "Step 7: P0 = 42.86 / 1.5735 = $27.24"
                ],
                "correct_answer": 27.24,
                "hints": {
                    "level_1": "First find the value when dividends start, then discount back to today",
                    "level_2": "At Year 4, value the growing perpetuity: P4 = 3.00 / (0.12 - 0.05)",
                    "level_3": "Then discount: P0 = 42.86 / (1.12)^4"
                }
            },
            {
                "id": "stock_009",
                "topic": "Multi-Stage Growth - Complex",
                "difficulty": "hard",
                "problem_text": "GrowthCo has current earnings of $40 million. It will reinvest all earnings for 3 years at a 25% return, then distribute all earnings as dividends forever. The required return is 10%. Year 1 earnings = $40M, Year 2 = $50M, Year 3 = $62.5M, Year 4+ = $78.125M (constant). What is the firm value today (in millions)?",
                "formula": "V_0 = \\frac{Div_4 / r_E}{(1 + r_E)^3}",
                "solution_steps": [
                    "Step 1: No dividends in Years 1-3 (all reinvested)",
                    "Step 2: From Year 4 onwards, all earnings ($78.125M) paid as dividends",
                    "Step 3: This is a perpetuity starting Year 4: Value at Year 3 = Div4 / rE",
                    "Step 4: V3 = 78.125 / 0.10 = $781.25M",
                    "Step 5: Discount back to today: V0 = 781.25 / (1.10)^3",
                    "Step 6: Calculate: (1.10)^3 = 1.331",
                    "Step 7: V0 = 781.25 / 1.331 = $586.89M"
                ],
                "correct_answer": 586.89,
                "hints": {
                    "level_1": "No dividends until Year 4, then constant dividends forever (a perpetuity)",
                    "level_2": "Value at Year 3 = 78.125 / 0.10 = $781.25M",
                    "level_3": "Discount to today: 781.25 / (1.10)^3"
                }
            },
            {
                "id": "stock_010",
                "topic": "Comparable Firms Valuation",
                "difficulty": "medium",
                "problem_text": "You want to estimate the value of a private coffee chain. You identify two public comparables: Starbucks with a P/E of 28.5 and Dutch Bros with a P/E of 45.2. The private company has earnings of $2.50 per share. Using the average P/E multiple, what is the estimated share price?",
                "formula": "P_0 = \\text{Average P/E} \\times EPS",
                "solution_steps": [
                    "Step 1: Calculate the average P/E of comparable firms",
                    "Step 2: Average P/E = (28.5 + 45.2) / 2 = 36.85",
                    "Step 3: Apply to target company: P0 = Average P/E × EPS",
                    "Step 4: Calculate: P0 = 36.85 × 2.50",
                    "Step 5: Final answer: P0 = $92.13"
                ],
                "correct_answer": 92.13,
                "hints": {
                    "level_1": "Comparable valuation assumes similar firms should trade at similar multiples",
                    "level_2": "First calculate the average P/E: (28.5 + 45.2) / 2",
                    "level_3": "Then multiply by target EPS: 36.85 × 2.50"
                }
            }
        ];
    </script>
    <script src="practice.js"></script>
</body>
</html>
