<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Final 1 - MGMT 408</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: #f7fafc;
            color: #1a1a1a;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            background-color: #2C5282;
            color: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 12px;
            text-align: center;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1.5rem;
            color: #2C5282;
            text-decoration: none;
            font-weight: 500;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .progress-bar {
            background-color: #E2E8F0;
            border-radius: 8px;
            height: 8px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-fill {
            background-color: #48BB78;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            margin-bottom: 1rem;
            color: #4A5568;
            font-size: 0.9rem;
        }

        .question-card {
            background: white;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .question-number {
            font-size: 0.875rem;
            font-weight: 600;
            color: #2C5282;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .question-status {
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-weight: 500;
        }

        .status-unanswered {
            background-color: #FED7D7;
            color: #C53030;
        }

        .status-answered {
            background-color: #C6F6D5;
            color: #276749;
        }

        .question-text {
            font-size: 1.1rem;
            color: #2D3748;
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .question-context {
            background-color: #F7FAFC;
            border-left: 4px solid #2C5282;
            padding: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
            color: #4A5568;
        }

        .options-list {
            list-style: none;
        }

        .option-item {
            margin-bottom: 0.75rem;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 2px solid #E2E8F0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-label:hover {
            border-color: #2C5282;
            background-color: #EBF8FF;
        }

        .option-label.selected {
            border-color: #2C5282;
            background-color: #EBF8FF;
        }

        .option-label.correct {
            border-color: #48BB78;
            background-color: #C6F6D5;
        }

        .option-label.incorrect {
            border-color: #FC8181;
            background-color: #FED7D7;
        }

        .option-radio {
            display: none;
        }

        .option-marker {
            width: 24px;
            height: 24px;
            border: 2px solid #CBD5E0;
            border-radius: 50%;
            margin-right: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.8rem;
            color: #718096;
            flex-shrink: 0;
        }

        .option-label.selected .option-marker {
            border-color: #2C5282;
            background-color: #2C5282;
            color: white;
        }

        .option-label.correct .option-marker {
            border-color: #48BB78;
            background-color: #48BB78;
            color: white;
        }

        .option-label.incorrect .option-marker {
            border-color: #FC8181;
            background-color: #FC8181;
            color: white;
        }

        .option-text {
            font-size: 1rem;
            color: #2D3748;
        }

        .solution-box {
            display: none;
            margin-top: 1.5rem;
            padding: 1.5rem;
            background-color: #F0FFF4;
            border: 1px solid #9AE6B4;
            border-radius: 8px;
        }

        .solution-box.show {
            display: block;
        }

        .solution-title {
            font-weight: 600;
            color: #276749;
            margin-bottom: 0.75rem;
        }

        .solution-content {
            color: #2D3748;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .solution-formula {
            background-color: white;
            padding: 1rem;
            border-radius: 6px;
            margin-top: 0.75rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        .submit-section {
            text-align: center;
            margin-top: 2rem;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            border: 2px solid #E2E8F0;
        }

        .submit-btn {
            background-color: #2C5282;
            color: white;
            padding: 1rem 3rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .submit-btn:hover {
            background-color: #2A4365;
        }

        .submit-btn:disabled {
            background-color: #A0AEC0;
            cursor: not-allowed;
        }

        .results-box {
            display: none;
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            border: 2px solid #E2E8F0;
            margin-top: 2rem;
        }

        .results-box.show {
            display: block;
        }

        .results-score {
            font-size: 3rem;
            font-weight: 700;
            color: #2C5282;
            margin-bottom: 0.5rem;
        }

        .results-text {
            font-size: 1.1rem;
            color: #4A5568;
            margin-bottom: 1.5rem;
        }

        .results-breakdown {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }

        .breakdown-item {
            text-align: center;
        }

        .breakdown-number {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .breakdown-label {
            font-size: 0.875rem;
            color: #718096;
        }

        .correct-color {
            color: #48BB78;
        }

        .incorrect-color {
            color: #FC8181;
        }

        .retry-btn {
            background-color: #48BB78;
            color: white;
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-right: 1rem;
        }

        .retry-btn:hover {
            background-color: #38A169;
        }

        footer {
            text-align: center;
            margin-top: 4rem;
            padding: 2rem;
            color: #718096;
            font-size: 0.875rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            .question-card {
                padding: 1.5rem;
            }

            .option-label {
                padding: 0.75rem;
            }

            .results-breakdown {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="final.html" class="back-link">&larr; Back to Practice Finals</a>

        <header>
            <h1>Practice Final 1</h1>
            <div class="subtitle">20 Multiple Choice Questions</div>
        </header>

        <div class="progress-text">
            <span id="answered-count">0</span> of 20 questions answered
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div id="questions-container"></div>

        <div class="submit-section" id="submit-section">
            <p style="margin-bottom: 1rem; color: #4A5568;">Answer all questions, then submit to see your results.</p>
            <button class="submit-btn" id="submit-btn" onclick="submitExam()">Submit Exam</button>
        </div>

        <div class="results-box" id="results-box">
            <div class="results-score" id="results-score">0%</div>
            <div class="results-text" id="results-text">You got 0 out of 20 correct</div>
            <div class="results-breakdown">
                <div class="breakdown-item">
                    <div class="breakdown-number correct-color" id="correct-count">0</div>
                    <div class="breakdown-label">Correct</div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-number incorrect-color" id="incorrect-count">0</div>
                    <div class="breakdown-label">Incorrect</div>
                </div>
            </div>

            <!-- Topic Breakdown Section -->
            <div id="topic-breakdown" style="margin: 2rem 0; padding: 1.5rem; background-color: #F7FAFC; border-radius: 8px; text-align: left;"></div>

            <!-- Focus Recommendation -->
            <div id="focus-recommendation" style="margin-bottom: 1.5rem; padding: 1rem; border-radius: 8px; display: none;"></div>

            <button class="retry-btn" onclick="location.reload()">Try Again</button>
            <a href="final.html" class="retry-btn" style="text-decoration: none; display: inline-block;">Back to Finals</a>
        </div>

        <footer>
            UCLA Anderson School of Management
        </footer>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                context: null,
                question: "Which of the following statements is FALSE?",
                options: [
                    { label: "a", text: "The efficient portfolios are those on the northwest edge of the set of possible portfolios." },
                    { label: "b", text: "Adding stocks to a portfolio generally improves diversification." },
                    { label: "c", text: "Short selling means having negative portfolio weights on certain stocks." },
                    { label: "d", text: "Lower correlation between stocks improves the efficient frontier." },
                    { label: "e", text: "The efficient frontier represents the best risk-return tradeoffs available." }
                ],
                correctAnswer: "a",
                solution: "What is the question asking?\\nWe need to identify which statement about portfolio theory is FALSE.\\n\\nKey concept: The efficient frontier\\nThe efficient frontier is the set of portfolios that offer the highest expected return for each level of risk (standard deviation). On a graph with risk on the x-axis and return on the y-axis, these portfolios form the upper boundary of the feasible set.\\n\\nLet's evaluate each statement:\\n\\n(a) 'The efficient portfolios are on the northwest edge' — FALSE. The efficient frontier is on the NORTHEAST edge (upper-left boundary), not the northwest edge. Starting from the minimum variance portfolio, it curves upward and to the right. 'Northeast' here means higher return (up) as you accept more risk (right).\\n\\n(b) 'Adding stocks improves diversification' — TRUE. More stocks reduce firm-specific (unsystematic) risk. With enough stocks, you can eliminate nearly all unsystematic risk.\\n\\n(c) 'Short selling means negative portfolio weights' — TRUE. When you short sell a stock, you borrow shares and sell them, creating a negative position in that stock, which shows up as a negative weight in the portfolio.\\n\\n(d) 'Lower correlation improves the efficient frontier' — TRUE. Lower correlation means more diversification benefit, which pushes the frontier further to the upper-left (better risk-return tradeoff).\\n\\n(e) 'Efficient frontier = best risk-return tradeoffs' — TRUE. By definition, efficient portfolios maximize return for each level of risk.\\n\\nThe answer is (a). Remember: the efficient frontier is on the northeast (upper-left) boundary, not the northwest edge.",
                formula: "Efficient frontier = northeast (upper-left) boundary of the feasible set",
                week: 6,
                topic: "Risk & Return"
            },
            {
                id: 2,
                context: null,
                question: "Which of the following statements is FALSE?",
                options: [
                    { label: "a", text: "Stocks affected by similar economic events tend to have correlated returns." },
                    { label: "b", text: "Stocks in the same industry tend to be more highly correlated with each other." },
                    { label: "c", text: "Nearly all stock pair correlations are negative." },
                    { label: "d", text: "Higher covariance between stocks leads to more variable portfolios." },
                    { label: "e", text: "Negative covariance means stocks tend to move in opposite directions." }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nWe need to identify which statement about stock correlations and covariance is FALSE.\\n\\nKey concept: Stock correlations\\nCorrelation measures how two stocks move together, ranging from -1 (perfectly opposite) to +1 (perfectly together). Covariance is the unscaled version of correlation.\\n\\nLet's evaluate each statement:\\n\\n(a) 'Stocks affected by similar economic events tend to have correlated returns' — TRUE. Common economic factors (GDP, interest rates, inflation) affect many stocks simultaneously, causing their returns to be positively correlated.\\n\\n(b) 'Stocks in the same industry tend to be more highly correlated' — TRUE. Firms in the same industry face similar demand conditions, regulations, and competitive forces, so their returns move together more closely.\\n\\n(c) 'Nearly all stock pair correlations are negative' — FALSE. Nearly all stock pair correlations are POSITIVE, not negative. Because most stocks are affected by broad economic conditions (market-wide risk), they tend to move in the same general direction. Typical stock correlations range from about +0.25 to +0.60. Negative correlations are quite rare among stocks.\\n\\n(d) 'Higher covariance leads to more variable portfolios' — TRUE. Higher covariance between stocks means they move together more, which increases portfolio variance (less diversification benefit).\\n\\n(e) 'Negative covariance means stocks move in opposite directions' — TRUE. By definition, negative covariance (and negative correlation) means when one stock goes up, the other tends to go down.\\n\\nThe answer is (c). The key fact to remember: nearly all stock correlations are positive because of common economic factors.",
                formula: "Typical stock correlations: +0.25 to +0.60 (nearly all positive)",
                week: 6,
                topic: "Risk & Return"
            },
            {
                id: 3,
                context: "Consider two stocks with the following data:\n\nStock X: E[R] = 12%, SD = 20%\nStock Y: E[R] = 18%, SD = 30%\nCorrelation(X,Y) = 0.50",
                question: "The volatility (standard deviation) of an equal-weighted portfolio of Stock X and Stock Y is closest to:",
                options: [
                    { label: "a", text: "15%" },
                    { label: "b", text: "18%" },
                    { label: "c", text: "22%" },
                    { label: "d", text: "25%" },
                    { label: "e", text: "28%" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nWe need to find the standard deviation (volatility) of a portfolio that is 50% Stock X and 50% Stock Y.\\n\\nKey formula: Two-asset portfolio variance\\nVar_P = w_X^2 * SD_X^2 + w_Y^2 * SD_Y^2 + 2 * w_X * w_Y * SD_X * SD_Y * Corr(X,Y)\\n\\nStep 1: Identify the given information\\n- Weight in Stock X: w_X = 0.5 (equal-weighted)\\n- Weight in Stock Y: w_Y = 0.5 (equal-weighted)\\n- SD of X: 20% = 0.20\\n- SD of Y: 30% = 0.30\\n- Correlation(X,Y) = 0.50\\n\\nStep 2: Substitute into the portfolio variance formula\\nVar_P = (0.5)^2 * (0.20)^2 + (0.5)^2 * (0.30)^2 + 2 * (0.5) * (0.5) * (0.20) * (0.30) * (0.50)\\n\\nStep 3: Calculate each term\\nTerm 1: (0.25)(0.04) = 0.01\\nTerm 2: (0.25)(0.09) = 0.0225\\nTerm 3: 2(0.25)(0.06)(0.50) = 2(0.25)(0.03) = 0.015\\n\\nStep 4: Sum to get portfolio variance\\nVar_P = 0.01 + 0.0225 + 0.015 = 0.0475\\n\\nStep 5: Take the square root to get standard deviation\\nSD_P = sqrt(0.0475) = 0.2179 = 21.8% ≈ 22%\\n\\nVerification: The portfolio SD (22%) is LESS than the simple weighted average of the individual SDs, which would be 0.5(20%) + 0.5(30%) = 25%. This demonstrates the diversification benefit when correlation is less than 1. If correlation were exactly 1.0, the portfolio SD would equal 25% (no diversification benefit).",
                formula: "SD_P = sqrt(0.5^2 × 0.20^2 + 0.5^2 × 0.30^2 + 2 × 0.5 × 0.5 × 0.20 × 0.30 × 0.50) = sqrt(0.0475) = 21.8%",
                week: 6,
                topic: "Risk & Return"
            },
            {
                id: 4,
                context: "You have $80,000 of your own money and borrow an additional $20,000 at the risk-free rate of 4%. You invest the entire $100,000 in a portfolio with an expected return of 14% and volatility of 20%.",
                question: "Your expected return on your $80,000 investment is closest to:",
                options: [
                    { label: "a", text: "14.0%" },
                    { label: "b", text: "15.5%" },
                    { label: "c", text: "16.5%" },
                    { label: "d", text: "17.5%" },
                    { label: "e", text: "18.0%" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nYou have $80,000 of your own money, borrow $20,000, and invest the total $100,000 in a risky portfolio. We need to find the expected return on YOUR $80,000 equity investment.\\n\\nKey concept: Leveraged portfolio return\\nWhen you borrow at the risk-free rate and invest more than your own capital, you are using leverage. The return on your equity is amplified because you earn the portfolio return on the full amount but only put up part of the capital.\\n\\nStep 1: Determine the portfolio weights relative to YOUR capital ($80,000)\\n- Weight in risky portfolio: $100,000 / $80,000 = 1.25 (you invest 125% of your money)\\n- Weight in risk-free borrowing: -$20,000 / $80,000 = -0.25 (you borrow 25% of your money)\\n- Note: Weights sum to 1.25 + (-0.25) = 1.0 \\n\\nStep 2: Apply the leveraged return formula\\nE[R] = w_risky * E[R_risky] + w_rf * r_f\\nE[R] = (1.25)(14%) + (-0.25)(4%)\\nE[R] = 17.5% - 1.0% = 16.5%\\n\\nStep 3: Verify with dollar amounts\\n- Gross return on $100,000 invested: 14% * $100,000 = $14,000\\n- Interest cost on $20,000 borrowed: 4% * $20,000 = $800\\n- Net return = $14,000 - $800 = $13,200\\n- Return on your $80,000: $13,200 / $80,000 = 16.5% \\n\\nKey insight: Leverage amplifies returns. Your 16.5% return is higher than the portfolio's 14% because you earn the spread between the portfolio return (14%) and borrowing cost (4%) on the borrowed money. However, leverage also amplifies RISK - your volatility is 1.25 * 20% = 25%, higher than the portfolio's 20%.",
                formula: "E[R] = (100,000/80,000) × 14% - (20,000/80,000) × 4% = 1.25 × 14% - 0.25 × 4% = 16.5%",
                week: 6,
                topic: "Risk & Return"
            },
            {
                id: 5,
                context: null,
                question: "Consider a security market line (SML) graph. A portfolio with beta = 1.5 that plots BELOW the SML is best described as:",
                options: [
                    { label: "a", text: "Having a positive alpha" },
                    { label: "b", text: "Being underpriced" },
                    { label: "c", text: "Being overpriced" },
                    { label: "d", text: "Having a higher return than predicted by CAPM" },
                    { label: "e", text: "A good buy for investors" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nA portfolio with beta = 1.5 plots BELOW the Security Market Line (SML). We need to determine what this means.\\n\\nKey concept: The SML and Alpha\\nThe SML plots expected return (y-axis) against beta (x-axis). Portfolios ON the line earn exactly the return predicted by CAPM. Portfolios ABOVE earn more than predicted (positive alpha). Portfolios BELOW earn less than predicted (negative alpha).\\n\\nStep 1: Understand what 'below the SML' means\\nIf a portfolio is below the SML, its actual expected return is LOWER than what CAPM says it should earn given its beta of 1.5.\\n- CAPM predicted return = r_f + 1.5 * (E[R_m] - r_f)\\n- Actual return < CAPM predicted return\\n- Therefore: Alpha = Actual - Predicted < 0 (negative alpha)\\n\\nStep 2: Evaluate each answer choice\\n(a) 'Positive alpha' — WRONG. Below the SML means negative alpha, not positive.\\n(b) 'Underpriced' — WRONG. Underpriced stocks have positive alpha (above SML).\\n(c) 'Overpriced' — CORRECT. The stock's price is too HIGH, which drives its expected return too LOW (below what CAPM requires).\\n(d) 'Higher return than CAPM predicts' — WRONG. It has a LOWER return than predicted.\\n(e) 'A good buy' — WRONG. It is a bad buy because you are not being compensated enough for the risk.\\n\\nKey insight: There is an inverse relationship between price and expected return. When a stock is overpriced, its future expected return is low (below SML). When underpriced, its future expected return is high (above SML). Think of it this way: if you overpay for something, your return will be disappointing.",
                formula: "Below SML → Negative alpha → Overpriced → Sell",
                week: 7,
                topic: "CAPM"
            },
            {
                id: 6,
                context: "Portfolio Z has a beta of 0.8 and plots ABOVE the security market line (SML).",
                question: "Which of the following statements about Portfolio Z are correct?\n\n1. Portfolio Z has positive alpha\n2. Portfolio Z is underpriced\n3. Portfolio Z is less risky than the market portfolio\n4. Portfolio Z should not exist if the market is perfectly efficient",
                options: [
                    { label: "a", text: "1 and 2 only" },
                    { label: "b", text: "1, 3, and 4 only" },
                    { label: "c", text: "1 and 3 only" },
                    { label: "d", text: "1, 2, 3, and 4" },
                    { label: "e", text: "2 and 4 only" }
                ],
                correctAnswer: "d",
                solution: "What is the question asking?\\nPortfolio Z has beta = 0.8 and plots ABOVE the SML. We need to determine which of the four statements are correct.\\n\\nKey concepts: SML positioning, alpha, beta, and market efficiency\\n\\nLet's evaluate each statement one by one:\\n\\nStatement 1: 'Portfolio Z has positive alpha'\\nTRUE. A portfolio that plots ABOVE the SML earns a higher return than CAPM predicts for its level of risk. Alpha = Actual return - CAPM predicted return > 0. Being above the SML is the very definition of positive alpha.\\n\\nStatement 2: 'Portfolio Z is underpriced'\\nTRUE. Positive alpha means the portfolio is underpriced. Think of it this way: the price is too LOW, which means the expected return is too HIGH (above what CAPM requires). This is a good deal for investors - you are getting more return than you should for the risk you are taking.\\n\\nStatement 3: 'Portfolio Z is less risky than the market portfolio'\\nTRUE. The market portfolio has beta = 1.0 by definition. Portfolio Z has beta = 0.8, which is less than 1.0. This means Portfolio Z has less systematic risk than the market. It is less sensitive to market movements.\\n\\nStatement 4: 'Portfolio Z should not exist if the market is perfectly efficient'\\nTRUE. In a perfectly efficient market, all securities are correctly priced, so alpha = 0 for everything. No portfolio should plot above or below the SML. Positive alpha represents a mispricing that should not persist in an efficient market because investors would buy the underpriced asset, driving its price up and its expected return down to the SML.\\n\\nSince ALL four statements are correct, the answer is (d): 1, 2, 3, and 4.",
                formula: "Above SML → Positive alpha → Underpriced; Beta 0.8 < 1.0 → Less risky than market",
                week: 7,
                topic: "CAPM"
            },
            {
                id: 7,
                context: "Consider the following three stocks:\n\nApple: Price = $150/share, Shares Outstanding = 2.0 billion\nGoogle: Price = $100/share, Shares Outstanding = 1.0 billion\nTesla: Price = $200/share, Shares Outstanding = 0.5 billion",
                question: "In a value-weighted portfolio of these three stocks, the weight on Apple is closest to:",
                options: [
                    { label: "a", text: "25%" },
                    { label: "b", text: "33%" },
                    { label: "c", text: "50%" },
                    { label: "d", text: "60%" },
                    { label: "e", text: "75%" }
                ],
                correctAnswer: "d",
                solution: "What is the question asking?\\nIn a value-weighted (market-cap weighted) portfolio of three stocks, we need to find what percentage of the portfolio Apple represents.\\n\\nKey concept: Value-weighted portfolio\\nIn a value-weighted portfolio, each stock's weight equals its market capitalization divided by the total market capitalization of all stocks in the portfolio. This is how major indices like the S&P 500 are constructed.\\n\\nStep 1: Calculate each stock's market capitalization\\nMarket Cap = Price per Share * Shares Outstanding\\n- Apple: $150 * 2.0 billion = $300 billion\\n- Google: $100 * 1.0 billion = $100 billion\\n- Tesla: $200 * 0.5 billion = $100 billion\\n\\nStep 2: Calculate total market capitalization\\nTotal = $300B + $100B + $100B = $500 billion\\n\\nStep 3: Calculate Apple's weight\\nWeight_Apple = Apple Market Cap / Total Market Cap\\n= $300B / $500B = 0.60 = 60%\\n\\nVerification: Check that all weights sum to 100%\\n- Apple: 300/500 = 60%\\n- Google: 100/500 = 20%\\n- Tesla: 100/500 = 20%\\n- Total: 60% + 20% + 20% = 100% \\n\\nKey insight: In a value-weighted portfolio, larger companies have bigger weights. Apple dominates this portfolio at 60% because its market cap ($300B) is three times larger than either Google or Tesla ($100B each). This contrasts with an equal-weighted portfolio, where each stock would have a 33.3% weight regardless of market cap.",
                formula: "Apple weight = (150 × 2.0B) / (150 × 2.0B + 100 × 1.0B + 200 × 0.5B) = 300/500 = 60%",
                week: 7,
                topic: "CAPM"
            },
            {
                id: 8,
                context: "The expected return on the market is 10% and the risk-free rate is 3%. A stock has a beta of 1.5 and an actual expected return of 14%.",
                question: "The alpha of this stock is closest to:",
                options: [
                    { label: "a", text: "-1.5%" },
                    { label: "b", text: "-0.5%" },
                    { label: "c", text: "0.5%" },
                    { label: "d", text: "1.5%" },
                    { label: "e", text: "3.0%" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nWe know a stock's beta (1.5), the market return (10%), the risk-free rate (3%), and the stock's actual expected return (14%). We need to find the stock's alpha.\\n\\nKey concept: Alpha\\nAlpha measures the difference between a stock's actual expected return and the return predicted by CAPM. A positive alpha means the stock earns more than CAPM predicts (a good deal); negative alpha means it earns less.\\n\\nAlpha = Actual Expected Return - CAPM Predicted Return\\n\\nStep 1: Calculate the CAPM predicted return\\nE[R_CAPM] = r_f + beta * (E[R_m] - r_f)\\n= 3% + 1.5 * (10% - 3%)\\n= 3% + 1.5 * 7%\\n= 3% + 10.5%\\n= 13.5%\\n\\nStep 2: Calculate alpha\\nAlpha = Actual Expected Return - CAPM Predicted Return\\n= 14% - 13.5%\\n= 0.5%\\n\\nStep 3: Interpret the result\\nAlpha = +0.5%, which means this stock earns 0.5% MORE than CAPM predicts for a stock with beta = 1.5. This stock plots slightly ABOVE the SML, indicating it is slightly underpriced.\\n\\nWhy other answers are wrong:\\n- -1.5% and -0.5% would mean negative alpha (below SML), but 14% > 13.5%\\n- 1.5% and 3.0% are too large - they likely result from arithmetic errors like forgetting to subtract the risk-free rate in the market risk premium\\n\\nCommon mistake: Using E[R_m] = 10% directly instead of the market risk premium (E[R_m] - r_f) = 7%. Always subtract r_f first!",
                formula: "CAPM E[R] = 3% + 1.5 × (10% - 3%) = 13.5%\nAlpha = 14% - 13.5% = 0.5%",
                week: 7,
                topic: "CAPM"
            },
            {
                id: 9,
                context: null,
                question: "Which of the following statements about the CAPM is FALSE?",
                options: [
                    { label: "a", text: "Investors should hold the market portfolio only if they have superior information." },
                    { label: "b", text: "Even uninformed investors should hold the market portfolio." },
                    { label: "c", text: "The market portfolio has the highest Sharpe ratio of any portfolio." },
                    { label: "d", text: "Homogeneous expectations is an assumption of the CAPM." },
                    { label: "e", text: "Only systematic risk earns a risk premium." }
                ],
                correctAnswer: "a",
                solution: "What is the question asking?\\nWe need to identify which statement about the CAPM is FALSE.\\n\\nKey concept: CAPM assumptions and implications\\nThe CAPM is built on several assumptions, including homogeneous expectations (all investors agree on expected returns, risks, and correlations), no transaction costs, and that all investors are rational mean-variance optimizers.\\n\\nLet's evaluate each statement:\\n\\n(a) 'Investors should hold the market portfolio ONLY if they have superior information' — FALSE. This is backwards. Under the CAPM, ALL investors hold the market portfolio, regardless of their information level. Because the CAPM assumes homogeneous expectations (everyone has the same information), there is no such thing as 'superior information.' Every investor arrives at the same optimal risky portfolio, which is the market portfolio.\\n\\n(b) 'Even uninformed investors should hold the market portfolio' — TRUE. This is actually the key insight of CAPM. You don't need to be a stock-picking genius. Just hold the market portfolio and adjust your risk by mixing it with the risk-free asset.\\n\\n(c) 'The market portfolio has the highest Sharpe ratio' — TRUE. Under CAPM, the market portfolio is the tangency portfolio on the Capital Market Line (CML), meaning it offers the best reward-to-risk ratio of any portfolio.\\n\\n(d) 'Homogeneous expectations is an assumption of CAPM' — TRUE. This is one of the core assumptions: all investors share the same beliefs about expected returns, standard deviations, and correlations.\\n\\n(e) 'Only systematic risk earns a risk premium' — TRUE. Unsystematic (firm-specific) risk can be diversified away and is not rewarded. Only beta (systematic risk) determines expected return under CAPM.\\n\\nThe answer is (a). The key distinction: CAPM says ALL investors should hold the market portfolio, not just informed ones.",
                formula: "CAPM: ALL investors hold the market portfolio (not just informed investors)",
                week: 7,
                topic: "CAPM"
            },
            {
                id: 10,
                context: "A firm has a market capitalization of $6 billion, an enterprise value of $10 billion, an equity beta of 1.4, and a debt beta of 0.10.",
                question: "The asset beta (unlevered beta) of this firm is closest to:",
                options: [
                    { label: "a", text: "0.42" },
                    { label: "b", text: "0.66" },
                    { label: "c", text: "0.88" },
                    { label: "d", text: "1.10" },
                    { label: "e", text: "1.40" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nWe need to find the asset beta (unlevered beta) of a firm, given its market cap, enterprise value, equity beta, and debt beta.\\n\\nKey concept: Unlevering beta\\nThe asset beta reflects the risk of the firm's underlying business operations, independent of how the firm is financed. It is a weighted average of the equity beta and debt beta, weighted by the market values of equity and debt as fractions of enterprise value.\\n\\nFormula: Beta_asset = (E/V) * Beta_equity + (D/V) * Beta_debt\\nwhere V = Enterprise Value = E + D\\n\\nStep 1: Identify equity and debt values\\n- Market cap (Equity) = $6 billion\\n- Enterprise Value (V) = $10 billion\\n- Debt = Enterprise Value - Equity = $10B - $6B = $4 billion\\n\\nStep 2: Calculate the weights\\n- Equity weight: E/V = $6B / $10B = 0.60 (60%)\\n- Debt weight: D/V = $4B / $10B = 0.40 (40%)\\n- Check: 0.60 + 0.40 = 1.00 \\n\\nStep 3: Calculate asset beta\\nBeta_asset = (E/V) * Beta_equity + (D/V) * Beta_debt\\n= (0.60)(1.4) + (0.40)(0.10)\\n= 0.84 + 0.04\\n= 0.88\\n\\nVerification: The asset beta (0.88) should be between the debt beta (0.10) and equity beta (1.40), which it is. It should also be closer to the equity beta since equity is a larger fraction of value (60%), which it is.\\n\\nKey insight: The asset beta (0.88) is lower than the equity beta (1.40) because financial leverage amplifies equity risk. When a firm takes on debt, equity holders bear a disproportionate share of business risk, making equity beta higher than asset beta. Unlevering removes this financial leverage effect.",
                formula: "Beta_asset = (6/10) × 1.4 + (4/10) × 0.10 = 0.84 + 0.04 = 0.88",
                week: 8,
                topic: "Cost of Capital"
            },
            {
                id: 11,
                context: "A division has an asset beta of 1.0. Its free cash flow next year will be $500 million and is expected to grow at 3% per year forever. The risk-free rate is 4% and the market risk premium is 6%.",
                question: "The value of this division is closest to:",
                options: [
                    { label: "a", text: "$5,000 million" },
                    { label: "b", text: "$7,143 million" },
                    { label: "c", text: "$10,000 million" },
                    { label: "d", text: "$12,500 million" },
                    { label: "e", text: "$16,667 million" }
                ],
                correctAnswer: "b",
                solution: "What is the question asking?\\nWe need to find the value of a division that generates $500M in FCF next year, growing at 3% forever, with an asset beta of 1.0.\\n\\nKey concepts: CAPM (to find the discount rate) + Growing perpetuity (to find the value)\\nFirst we use CAPM to determine the appropriate discount rate based on the division's risk. Then we apply the growing perpetuity formula to value the infinite stream of growing cash flows.\\n\\nStep 1: Find the discount rate using CAPM\\nr = r_f + Beta_asset * Market Risk Premium\\nr = 4% + 1.0 * 6%\\nr = 4% + 6% = 10%\\n\\nStep 2: Apply the growing perpetuity formula\\nV = FCF_1 / (r - g)\\nwhere FCF_1 = next year's free cash flow, r = discount rate, g = growth rate\\n\\nV = $500M / (0.10 - 0.03)\\nV = $500M / 0.07\\nV = $7,142.9M ≈ $7,143 million\\n\\nStep 3: Verify the answer makes sense\\n- The discount rate (10%) must be greater than the growth rate (3%), which it is. If r <= g, the formula would not work (value would be infinite or negative).\\n- The value is about 14.3 times next year's cash flow (7,143/500), which is reasonable for a growing business.\\n\\nKey insight: This is a two-step problem that combines CAPM and valuation. The critical point is that you must use the DIVISION's own asset beta (not the firm's overall beta) to find the right discount rate. Different divisions with different risks should be valued at different discount rates.",
                formula: "r = 4% + 1.0 × 6% = 10%\nV = 500 / (0.10 - 0.03) = 500 / 0.07 = $7,143M",
                week: 8,
                topic: "Cost of Capital"
            },
            {
                id: 12,
                context: "A firm has three divisions. The risk-free rate is 4% and the market risk premium is 5%.\n\nDivision A: Asset beta = 1.2, FCF next year = $300M, Growth = 3%\nDivision B: Asset beta = 0.8, FCF next year = $400M, Growth = 2%\nDivision C: Asset beta = 1.0, FCF next year = $200M, Growth = 4%",
                question: "The total value of this firm across all three divisions is closest to:",
                options: [
                    { label: "a", text: "$10,000 million" },
                    { label: "b", text: "$12,500 million" },
                    { label: "c", text: "$15,000 million" },
                    { label: "d", text: "$18,000 million" },
                    { label: "e", text: "$20,000 million" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nA firm has three divisions, each with different risk (asset beta), cash flows, and growth rates. We need to value each division separately and then add them up. This is a key application of the principle that each division should be discounted at its OWN risk-appropriate rate.\\n\\nKey concepts: CAPM for each discount rate + Growing perpetuity for each division's value\\nFormulas: r = r_f + Beta * MRP, and V = FCF / (r - g)\\n\\nStep 1: Value Division A (Beta = 1.2, FCF = $300M, g = 3%)\\n- Discount rate: r_A = 4% + 1.2 * 5% = 4% + 6% = 10%\\n- Value: V_A = $300M / (0.10 - 0.03) = $300M / 0.07 = $4,286M\\n\\nStep 2: Value Division B (Beta = 0.8, FCF = $400M, g = 2%)\\n- Discount rate: r_B = 4% + 0.8 * 5% = 4% + 4% = 8%\\n- Value: V_B = $400M / (0.08 - 0.02) = $400M / 0.06 = $6,667M\\n\\nStep 3: Value Division C (Beta = 1.0, FCF = $200M, g = 4%)\\n- Discount rate: r_C = 4% + 1.0 * 5% = 4% + 5% = 9%\\n- Value: V_C = $200M / (0.09 - 0.04) = $200M / 0.05 = $4,000M\\n\\nStep 4: Sum all divisions\\nTotal Value = $4,286M + $6,667M + $4,000M = $14,953M ≈ $15,000M\\n\\nKey insight: Notice that Division B is the most valuable ($6,667M) even though it has the lowest growth rate (2%). This is because (1) it has the largest FCF ($400M), and (2) its low beta (0.8) gives it a low discount rate (8%), which makes the denominator (r - g = 6%) relatively small. This illustrates that value depends on ALL three factors: cash flow level, growth rate, and risk. You CANNOT use a single company-wide discount rate for all divisions - each division's risk must be matched to its own discount rate.",
                formula: "V_A = 300/0.07 = $4,286M\nV_B = 400/0.06 = $6,667M\nV_C = 200/0.05 = $4,000M\nTotal = $14,953M ≈ $15,000M",
                week: 8,
                topic: "Cost of Capital"
            },
            {
                id: 13,
                context: "A firm has 50 million shares outstanding trading at $8 per share. It also has $100 million in debt. The cost of equity is 14%, the cost of debt is 6%, and the corporate tax rate is 30%.",
                question: "The firm's weighted average cost of capital (WACC) is closest to:",
                options: [
                    { label: "a", text: "10%" },
                    { label: "b", text: "11%" },
                    { label: "c", text: "12%" },
                    { label: "d", text: "13%" },
                    { label: "e", text: "14%" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nWe need to find the firm's weighted average cost of capital (WACC), which is the blended cost of financing from both equity and debt, accounting for the tax shield on debt.\\n\\nKey formula: WACC\\nWACC = (E/V) * r_E + (D/V) * r_D * (1 - t)\\nwhere E = market value of equity, D = market value of debt, V = E + D, r_E = cost of equity, r_D = cost of debt, t = tax rate\\n\\nStep 1: Calculate market value of equity\\nE = Shares Outstanding * Price per Share\\nE = 50 million * $8 = $400 million\\n\\nStep 2: Determine total firm value\\nD = $100 million (given)\\nV = E + D = $400M + $100M = $500 million\\n\\nStep 3: Calculate the weights\\n- Equity weight: E/V = $400M / $500M = 0.80 (80%)\\n- Debt weight: D/V = $100M / $500M = 0.20 (20%)\\n- Check: 0.80 + 0.20 = 1.00 \\n\\nStep 4: Calculate WACC\\nWACC = (E/V) * r_E + (D/V) * r_D * (1 - t)\\n= (0.80)(14%) + (0.20)(6%)(1 - 0.30)\\n= (0.80)(14%) + (0.20)(6%)(0.70)\\n= 11.2% + 0.84%\\n= 12.04% ≈ 12%\\n\\nStep 5: Verify the result makes sense\\nWACC (12%) should be between the after-tax cost of debt and the cost of equity:\\n- After-tax cost of debt = 6% * (1 - 0.30) = 4.2%\\n- Cost of equity = 14%\\n- 4.2% < 12% < 14% \\n\\nKey insight: The (1 - t) term on debt reflects the tax shield. Interest payments are tax-deductible, so the effective cost of debt is lower than the stated rate. Without the tax adjustment, the weighted average would be 0.80(14%) + 0.20(6%) = 12.4%. The tax shield saves 0.20 * 6% * 0.30 = 0.36%, bringing WACC down to 12.04%.",
                formula: "WACC = (400/500) × 14% + (100/500) × 6% × (1 - 0.30) = 11.2% + 0.84% = 12.04%",
                week: 8,
                topic: "Cost of Capital"
            },
            {
                id: 14,
                context: null,
                question: "You buy a call option on a stock with a strike price of $50. At expiration, the stock price is $65. Your payoff from the call option is:",
                options: [
                    { label: "a", text: "$0" },
                    { label: "b", text: "$5" },
                    { label: "c", text: "$10" },
                    { label: "d", text: "$15" },
                    { label: "e", text: "$50" }
                ],
                correctAnswer: "d",
                solution: "What is the question asking?\\nYou bought a call option with strike price $50 and the stock is at $65 at expiration. We need to find the payoff (not profit - payoff ignores the premium paid).\\n\\nKey concept: Call option payoff at expiration\\nA call option gives the holder the RIGHT (but not the obligation) to BUY the stock at the strike price K. At expiration, you only exercise if the stock price is above the strike price.\\n\\nFormula: Call Payoff = max(S - K, 0)\\nwhere S = stock price at expiration, K = strike price\\n\\nStep 1: Identify the values\\n- Stock price at expiration (S) = $65\\n- Strike price (K) = $50\\n\\nStep 2: Calculate the payoff\\nCall Payoff = max(S - K, 0)\\n= max($65 - $50, 0)\\n= max($15, 0)\\n= $15\\n\\nStep 3: Understand why\\nSince the stock ($65) is ABOVE the strike ($50), the call is 'in the money.' You exercise your right to buy at $50 and can immediately sell at $65, netting $15. If the stock were below $50, you would NOT exercise (you would just let the option expire worthless), so the payoff would be $0.\\n\\nWhy other answers are wrong:\\n- $0 would be the payoff if S <= K (stock at or below strike)\\n- $5, $10 result from incorrect arithmetic\\n- $50 confuses the strike price with the payoff\\n\\nImportant distinction: Payoff ($15) is not the same as profit. Profit = Payoff - Premium paid. Since we are not given the premium, this question asks only for the payoff.",
                formula: "Call payoff = max(S - K, 0) = max(65 - 50, 0) = $15",
                week: 9,
                topic: "Options"
            },
            {
                id: 15,
                context: null,
                question: "You buy a put option on a stock with a strike price of $40. At expiration, the stock price is $35. Your payoff from the put option is:",
                options: [
                    { label: "a", text: "-$5" },
                    { label: "b", text: "$0" },
                    { label: "c", text: "$5" },
                    { label: "d", text: "$35" },
                    { label: "e", text: "$40" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nYou bought a put option with strike price $40 and the stock is at $35 at expiration. We need to find the payoff.\\n\\nKey concept: Put option payoff at expiration\\nA put option gives the holder the RIGHT (but not the obligation) to SELL the stock at the strike price K. At expiration, you only exercise if the stock price is below the strike price (so you can sell high when the market price is low).\\n\\nFormula: Put Payoff = max(K - S, 0)\\nwhere K = strike price, S = stock price at expiration\\n\\nStep 1: Identify the values\\n- Strike price (K) = $40\\n- Stock price at expiration (S) = $35\\n\\nStep 2: Calculate the payoff\\nPut Payoff = max(K - S, 0)\\n= max($40 - $35, 0)\\n= max($5, 0)\\n= $5\\n\\nStep 3: Understand why\\nSince the stock ($35) is BELOW the strike ($40), the put is 'in the money.' You exercise your right to sell at $40 even though the stock is only worth $35, netting $5. If the stock were above $40, you would NOT exercise (why sell at $40 when you can sell at a higher market price?), so the payoff would be $0.\\n\\nWhy other answers are wrong:\\n- -$5 is wrong because option payoffs can NEVER be negative. As the holder, you have the right but not the obligation to exercise. You simply let it expire if it is not profitable.\\n- $0 would be the payoff if S >= K\\n- $35 and $40 confuse the stock price/strike price with the payoff\\n\\nKey comparison with calls: Notice that puts use (K - S) while calls use (S - K). Puts profit when the stock goes DOWN; calls profit when the stock goes UP.",
                formula: "Put payoff = max(K - S, 0) = max(40 - 35, 0) = $5",
                week: 9,
                topic: "Options"
            },
            {
                id: 16,
                context: "A European call option is priced at $8. The underlying stock trades at $50. A European put option with the same strike price of $45 and expiration of one year exists. The risk-free rate is 5%.",
                question: "According to put-call parity, the price of the put option should be closest to:",
                options: [
                    { label: "a", text: "$0.86" },
                    { label: "b", text: "$2.00" },
                    { label: "c", text: "$3.00" },
                    { label: "d", text: "$5.00" },
                    { label: "e", text: "$8.00" }
                ],
                correctAnswer: "a",
                solution: "What is the question asking?\\nGiven a call price ($8), stock price ($50), strike price ($45), risk-free rate (5%), and expiration (1 year), we need to find the put price using put-call parity.\\n\\nKey concept: Put-Call Parity\\nPut-call parity is a fundamental relationship between European call and put prices with the same strike and expiration. It states that a protective put (stock + put) has the same payoff as a fiduciary call (call + present value of strike).\\n\\nFormula: C + PV(K) = P + S\\nRearranged to solve for P: P = C + PV(K) - S\\n\\nStep 1: Identify all the given values\\n- Call price (C) = $8\\n- Stock price (S) = $50\\n- Strike price (K) = $45\\n- Risk-free rate (r) = 5%\\n- Time to expiration = 1 year\\n\\nStep 2: Calculate the present value of the strike price\\nPV(K) = K / (1 + r)^T = $45 / (1.05)^1 = $45 / 1.05 = $42.857\\n\\nStep 3: Solve for the put price\\nP = C + PV(K) - S\\nP = $8 + $42.857 - $50\\nP = $50.857 - $50\\nP = $0.857 ≈ $0.86\\n\\nStep 4: Verify the result makes sense\\nThe put is cheap ($0.86) because the stock ($50) is well above the strike ($45), so the put is out of the money. It would only pay off if the stock drops more than $5 (below $45) before expiration.\\n\\nCheck put-call parity holds: C + PV(K) = P + S\\n$8 + $42.86 = $0.86 + $50\\n$50.86 = $50.86 \\n\\nKey insight: Put-call parity is a no-arbitrage relationship. It must hold for European options regardless of the pricing model. If it does not hold, there would be an arbitrage opportunity.",
                formula: "P = C + PV(K) - S = 8 + (45/1.05) - 50 = 8 + 42.86 - 50 = $0.86",
                week: 9,
                topic: "Options"
            },
            {
                id: 17,
                context: "A firm currently has an equity beta of 1.8 and a debt-to-equity ratio of 1.0. The firm is considering a restructuring that would change its debt-to-equity ratio to 0.5. Assume the debt beta is 0 and the corporate tax rate is 0%.",
                question: "After the restructuring, the firm's new equity beta would be closest to:",
                options: [
                    { label: "a", text: "0.60" },
                    { label: "b", text: "0.90" },
                    { label: "c", text: "1.20" },
                    { label: "d", text: "1.35" },
                    { label: "e", text: "1.50" }
                ],
                correctAnswer: "d",
                solution: "What is the question asking?\nWe need to find the new equity beta after the firm changes its capital structure (leverage). The key insight is that the asset beta stays the same regardless of leverage.\n\nStep 1: Find the current asset (unlevered) beta\nWith D/E = 1.0, we have E/(D+E) = 0.5 and D/(D+E) = 0.5.\nBeta_asset = (E/V) * Beta_E + (D/V) * Beta_D\n= 0.5 * 1.8 + 0.5 * 0 = 0.90\n\nStep 2: The asset beta stays the same after restructuring\nBeta_asset = 0.90 (unchanged — leverage doesn't affect business risk)\n\nStep 3: Find the new equity beta with D/E = 0.5\nWith D/E = 0.5, we have E/(D+E) = 2/3 and D/(D+E) = 1/3.\nBeta_asset = (E/V) * Beta_E_new + (D/V) * Beta_D\n0.90 = (2/3) * Beta_E_new + (1/3) * 0\nBeta_E_new = 0.90 / (2/3) = 0.90 * (3/2) = 1.35\n\nKey insight: Reducing leverage (from D/E = 1.0 to D/E = 0.5) reduces equity beta (from 1.8 to 1.35). Less debt means less financial risk amplification for equity holders.",
                formula: "Beta_asset = 0.5 * 1.8 = 0.90\nNew Beta_E = 0.90 / (2/3) = 1.35",
                week: 8,
                topic: "Cost of Capital"
            },
            {
                id: 18,
                context: null,
                question: "Which form of the Efficient Market Hypothesis (EMH) states that stock prices reflect ALL publicly available information?",
                options: [
                    { label: "a", text: "Weak form" },
                    { label: "b", text: "Semi-strong form" },
                    { label: "c", text: "Strong form" },
                    { label: "d", text: "Random walk hypothesis" },
                    { label: "e", text: "Rational expectations hypothesis" }
                ],
                correctAnswer: "b",
                solution: "What is the question asking?\\nWe need to identify which form of the Efficient Market Hypothesis (EMH) states that stock prices reflect ALL publicly available information.\\n\\nKey concept: The three forms of the EMH\\nThe EMH comes in three progressively stronger versions, each building on the previous one. Think of them as nested circles, with each form incorporating more information.\\n\\nLet's evaluate each answer choice:\\n\\n(a) Weak form — This is NOT the answer. Weak form EMH says prices reflect only PAST TRADING information (historical prices, volumes, and returns). Implication: Technical analysis (charting past prices) cannot earn abnormal returns, but fundamental analysis might still work.\\n\\n(b) Semi-strong form — CORRECT. Semi-strong EMH says prices reflect all PUBLICLY AVAILABLE information, including financial statements, earnings announcements, news, analyst reports, and historical prices. Implication: Neither technical analysis nor fundamental analysis can earn abnormal returns, because public information is already priced in.\\n\\n(c) Strong form — This is NOT the answer. Strong form goes further: prices reflect ALL information, including private/insider information. This is the most extreme version and is generally considered unrealistic, since insider trading laws exist precisely because insiders DO have an information advantage.\\n\\n(d) Random walk hypothesis — This is a related concept (price changes are unpredictable) but is not one of the three EMH forms.\\n\\n(e) Rational expectations hypothesis — This is a broader economic theory, not a specific form of EMH.\\n\\nMemory aid: Think of the information sets as nested: Weak (past prices) is a SUBSET of Semi-strong (all public info) is a SUBSET of Strong (all info including private). The question asks about 'all publicly available information,' which matches Semi-strong exactly.",
                formula: "Weak = past prices; Semi-strong = all public info; Strong = all info (including private)",
                week: 10,
                topic: "Market Efficiency"
            },
            {
                id: 19,
                context: null,
                question: "A zero-coupon bond with a face value of $100 is trading at $92.46 and matures in 2 years. The yield to maturity (YTM) of this bond is closest to:",
                options: [
                    { label: "a", text: "3.0%" },
                    { label: "b", text: "3.5%" },
                    { label: "c", text: "4.0%" },
                    { label: "d", text: "4.5%" },
                    { label: "e", text: "5.0%" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nA zero-coupon bond with face value $100 trades at $92.46 and matures in 2 years. We need to find the yield to maturity (YTM).\\n\\nKey concept: Zero-coupon bond pricing\\nA zero-coupon bond pays no coupons - it only pays the face value at maturity. The YTM is the annual return you earn by buying at the discount price and holding to maturity. Since there are no coupons, YTM is simply the discount rate that equates the price to the present value of the face value.\\n\\nFormula: Price = Face Value / (1 + YTM)^n\\n\\nStep 1: Set up the equation\\n$92.46 = $100 / (1 + YTM)^2\\n\\nStep 2: Solve for (1 + YTM)^2\\n(1 + YTM)^2 = $100 / $92.46\\n(1 + YTM)^2 = 1.08160 (approximately 1.0816)\\n\\nStep 3: Take the square root of both sides\\n1 + YTM = (1.0816)^(1/2)\\n1 + YTM = 1.04\\n\\nStep 4: Solve for YTM\\nYTM = 1.04 - 1 = 0.04 = 4.0%\\n\\nStep 5: Verify by plugging back in\\nPrice = $100 / (1.04)^2 = $100 / 1.0816 = $92.46 \\n\\nKey insight: The YTM for a zero-coupon bond is straightforward because there is only one cash flow (face value at maturity). For coupon-paying bonds, YTM calculation is more complex because you must also account for the coupon payments. Notice that the bond trades at a DISCOUNT ($92.46 < $100 face value), which makes sense - you pay less than face value now and receive the full face value later. The difference IS your return.",
                formula: "YTM = (100/92.46)^(1/2) - 1 = (1.0816)^0.5 - 1 = 1.04 - 1 = 4.0%",
                week: 10,
                topic: "Market Efficiency"
            },
            {
                id: 20,
                context: "The following zero-coupon bond prices are observed (per $100 face value):\n\n1-year bond: $97.09 (YTM = 3.0%)\n2-year bond: $93.35 (YTM = 3.5%)\n3-year bond: $88.85 (YTM = 4.0%)",
                question: "The shape of the yield curve implied by these bond prices is:",
                options: [
                    { label: "a", text: "Flat" },
                    { label: "b", text: "Downward sloping (inverted)" },
                    { label: "c", text: "Upward sloping (normal)" },
                    { label: "d", text: "Humped" },
                    { label: "e", text: "Cannot be determined from this information" }
                ],
                correctAnswer: "c",
                solution: "What is the question asking?\\nGiven zero-coupon bond prices and YTMs at 1, 2, and 3 years, we need to determine the shape of the yield curve.\\n\\nKey concept: The yield curve\\nThe yield curve plots yield to maturity (y-axis) against time to maturity (x-axis). Its shape tells us about the market's expectations for future interest rates and economic conditions.\\n\\nStep 1: List the YTMs by maturity\\n- 1-year YTM: 3.0%\\n- 2-year YTM: 3.5%\\n- 3-year YTM: 4.0%\\n\\nStep 2: Observe the pattern\\nAs maturity increases (1 → 2 → 3 years), yields INCREASE (3.0% → 3.5% → 4.0%). Each additional year of maturity adds about 0.5% to the yield.\\n\\nStep 3: Identify the shape\\nIncreasing yields with longer maturities = UPWARD SLOPING yield curve. This is also called a 'normal' yield curve because it is the most commonly observed shape.\\n\\nWhy other answers are wrong:\\n(a) 'Flat' — would require all YTMs to be equal (e.g., 3%, 3%, 3%)\\n(b) 'Downward sloping (inverted)' — would require YTMs to decrease with maturity (e.g., 4%, 3.5%, 3%). An inverted yield curve often signals expectations of a recession.\\n(d) 'Humped' — would require yields to rise then fall (e.g., 3%, 4%, 3.5%)\\n(e) 'Cannot be determined' — we have enough information since we have YTMs at three maturities.\\n\\nKey insight: You can also verify by looking at prices. Lower bond prices (relative to face value) correspond to higher yields. Indeed: $97.09 > $93.35 > $88.85, confirming that longer maturity bonds have lower prices (higher yields). A normal yield curve typically reflects expectations of economic growth and compensation for the added risk of lending money for longer periods (term premium).",
                formula: "YTM: 3.0% → 3.5% → 4.0% (increasing with maturity = upward sloping)",
                week: 10,
                topic: "Market Efficiency"
            }
        ];

        // Topic configuration for analysis
        const topicConfig = {
            6: { name: "Risk & Return", shortName: "Risk/Return", url: "week6-riskreturn.html", color: "#3182CE" },
            7: { name: "CAPM", shortName: "CAPM", url: "week7-capm.html", color: "#38A169" },
            8: { name: "Cost of Capital", shortName: "Cost of Cap", url: "week8-costofcapital.html", color: "#D69E2E" },
            9: { name: "Options", shortName: "Options", url: "week9-options.html", color: "#E53E3E" },
            10: { name: "Market Efficiency", shortName: "Efficiency", url: "week10-efficiency.html", color: "#805AD5" }
        };

        let userAnswers = {};
        let examSubmitted = false;

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = '';

            questions.forEach((q, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `question-${q.id}`;

                let contextHTML = '';
                if (q.context) {
                    contextHTML = `<div class="question-context">${q.context.replace(/\n/g, '<br>')}</div>`;
                }

                let optionsHTML = q.options.map(opt => `
                    <li class="option-item">
                        <label class="option-label" id="option-${q.id}-${opt.label}" onclick="selectAnswer(${q.id}, '${opt.label}')">
                            <input type="radio" name="q${q.id}" value="${opt.label}" class="option-radio">
                            <span class="option-marker">${opt.label.toUpperCase()}</span>
                            <span class="option-text">${opt.text}</span>
                        </label>
                    </li>
                `).join('');

                const topicInfo = topicConfig[q.week];
                card.innerHTML = `
                    <div class="question-header">
                        <span class="question-number">Question ${q.id}</span>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <span style="font-size: 0.7rem; padding: 0.2rem 0.6rem; border-radius: 10px; background-color: ${topicInfo.color}20; color: ${topicInfo.color}; font-weight: 500;">Week ${q.week}: ${topicInfo.shortName}</span>
                            <span class="question-status status-unanswered" id="status-${q.id}">Unanswered</span>
                        </div>
                    </div>
                    ${contextHTML}
                    <div class="question-text">${q.question.replace(/\n/g, '<br>')}</div>
                    <ul class="options-list">
                        ${optionsHTML}
                    </ul>
                    <div class="solution-box" id="solution-${q.id}">
                        <div class="solution-title">Solution</div>
                        <div class="solution-content">${q.solution.replace(/\\n/g, '<br>').replace(/\n/g, '<br>')}</div>
                        <div class="solution-formula">${q.formula}</div>
                    </div>
                `;

                container.appendChild(card);
            });
        }

        function selectAnswer(questionId, answer) {
            if (examSubmitted) return;

            userAnswers[questionId] = answer;

            // Update visual selection
            questions.find(q => q.id === questionId).options.forEach(opt => {
                const label = document.getElementById(`option-${questionId}-${opt.label}`);
                label.classList.remove('selected');
            });
            document.getElementById(`option-${questionId}-${answer}`).classList.add('selected');

            // Update status
            const status = document.getElementById(`status-${questionId}`);
            status.textContent = 'Answered';
            status.className = 'question-status status-answered';

            updateProgress();
        }

        function updateProgress() {
            const answeredCount = Object.keys(userAnswers).length;
            document.getElementById('answered-count').textContent = answeredCount;
            document.getElementById('progress-fill').style.width = `${(answeredCount / questions.length) * 100}%`;
        }

        function submitExam() {
            examSubmitted = true;
            let correctCount = 0;

            // Track performance by topic
            const topicStats = {
                6: { correct: 0, total: 0, missed: [] },
                7: { correct: 0, total: 0, missed: [] },
                8: { correct: 0, total: 0, missed: [] },
                9: { correct: 0, total: 0, missed: [] },
                10: { correct: 0, total: 0, missed: [] }
            };

            questions.forEach(q => {
                const userAnswer = userAnswers[q.id];
                const isCorrect = userAnswer === q.correctAnswer;

                if (isCorrect) correctCount++;

                // Track by topic
                topicStats[q.week].total++;
                if (isCorrect) {
                    topicStats[q.week].correct++;
                } else {
                    topicStats[q.week].missed.push(q.id);
                }

                // Show correct/incorrect styling
                q.options.forEach(opt => {
                    const label = document.getElementById(`option-${q.id}-${opt.label}`);
                    label.classList.remove('selected');

                    if (opt.label === q.correctAnswer) {
                        label.classList.add('correct');
                    } else if (opt.label === userAnswer && !isCorrect) {
                        label.classList.add('incorrect');
                    }
                });

                // Show solution
                document.getElementById(`solution-${q.id}`).classList.add('show');
            });

            // Show results
            const percentage = Math.round((correctCount / questions.length) * 100);
            document.getElementById('results-score').textContent = `${percentage}%`;
            document.getElementById('results-text').textContent = `You got ${correctCount} out of ${questions.length} correct`;
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('incorrect-count').textContent = questions.length - correctCount;

            // Generate topic breakdown
            let breakdownHTML = '<h3 style="margin-bottom: 1rem; font-size: 1.1rem; color: #2D3748;">Performance by Topic</h3>';
            breakdownHTML += '<div style="display: grid; gap: 0.75rem;">';

            for (let week = 6; week <= 10; week++) {
                const stats = topicStats[week];
                if (stats.total === 0) continue;

                const topicInfo = topicConfig[week];
                const pct = Math.round((stats.correct / stats.total) * 100);
                const missed = stats.total - stats.correct;

                breakdownHTML += `
                    <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: white; border-radius: 6px; border-left: 4px solid ${topicInfo.color};">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; color: #2D3748;">Week ${week}: ${topicInfo.name}</div>
                            <div style="font-size: 0.875rem; color: #718096;">${stats.correct}/${stats.total} correct (${pct}%)</div>
                        </div>
                        <div style="width: 80px; height: 8px; background: #E2E8F0; border-radius: 4px; overflow: hidden;">
                            <div style="width: ${pct}%; height: 100%; background: ${pct >= 70 ? '#48BB78' : pct >= 50 ? '#D69E2E' : '#E53E3E'};"></div>
                        </div>
                    </div>
                `;
            }
            breakdownHTML += '</div>';
            document.getElementById('topic-breakdown').innerHTML = breakdownHTML;

            // Find the topic that needs the most work
            let weakestTopic = null;
            let worstScore = 101;

            for (let week = 6; week <= 10; week++) {
                const stats = topicStats[week];
                if (stats.total > 0) {
                    const pct = (stats.correct / stats.total) * 100;
                    if (stats.missed.length > 0 && pct < worstScore) {
                        worstScore = pct;
                        weakestTopic = week;
                    }
                }
            }

            // Show focus recommendation if there's a weak area
            if (weakestTopic !== null) {
                const topicInfo = topicConfig[weakestTopic];
                const stats = topicStats[weakestTopic];
                const focusDiv = document.getElementById('focus-recommendation');
                focusDiv.style.display = 'block';
                focusDiv.style.backgroundColor = '#FFF5F5';
                focusDiv.style.border = '2px solid #FC8181';
                focusDiv.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-weight: 600; color: #C53030; margin-bottom: 0.5rem;">
                            Focus Area: Week ${weakestTopic} - ${topicInfo.name}
                        </div>
                        <div style="font-size: 0.9rem; color: #742A2A; margin-bottom: 1rem;">
                            You missed ${stats.missed.length} of ${stats.total} question${stats.missed.length > 1 ? 's' : ''} in this topic.
                        </div>
                        <a href="${topicInfo.url}" style="display: inline-block; padding: 0.5rem 1.5rem; background-color: #C53030; color: white; text-decoration: none; border-radius: 6px; font-weight: 600;">
                            Practice ${topicInfo.name}
                        </a>
                    </div>
                `;
            } else if (correctCount === questions.length) {
                const focusDiv = document.getElementById('focus-recommendation');
                focusDiv.style.display = 'block';
                focusDiv.style.backgroundColor = '#F0FFF4';
                focusDiv.style.border = '2px solid #48BB78';
                focusDiv.innerHTML = `
                    <div style="text-align: center; color: #276749;">
                        <div style="font-weight: 600; font-size: 1.1rem;">Perfect Score!</div>
                        <div style="font-size: 0.9rem;">Excellent work on all topics!</div>
                    </div>
                `;
            }

            document.getElementById('results-box').classList.add('show');
            document.getElementById('submit-section').style.display = 'none';

            // Scroll to results
            document.getElementById('results-box').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize
        renderQuestions();
    </script>
</body>
</html>