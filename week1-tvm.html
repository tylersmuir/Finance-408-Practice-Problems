<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Practice Tool - Time Value of Money</title>

    <!-- KaTeX for LaTeX rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <link rel="stylesheet" href="practice.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-nav">
                <a href="index.html" class="back-link">← Back to Topics</a>
            </div>
            <h1>Time Value of Money</h1>
            <div class="subtitle">Week 1 - MGMT 408</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
            <div class="problem-number" id="progressText">Problem 1 of 10</div>
        </header>

        <div class="problem-card" id="problemCard">
            <div class="problem-header">
                <div class="problem-meta">
                    <span class="badge" id="difficultyBadge">Easy</span>
                    <span class="badge" style="background-color: #EBF8FF; color: #2C5282;" id="topicBadge">Topic</span>
                </div>
            </div>

            <div class="problem-text" id="problemText">
                Loading problem...
            </div>

            <div class="formula-box hidden" id="formulaBox">
                <div class="formula-label">Formula:</div>
                <div id="formulaText"></div>
            </div>

            <div class="answer-section">
                <div class="input-group">
                    <label for="answerInput">Your Answer:</label>
                    <input type="number" id="answerInput" step="0.01" placeholder="Enter your answer">
                    <button class="btn-primary" id="submitBtn" onclick="checkAnswer()">Submit</button>
                </div>
            </div>

            <div id="feedbackBox" class="hidden"></div>

            <div class="navigation">
                <button class="btn-secondary" id="prevBtn" onclick="previousProblem()">Previous</button>
                <button class="btn-secondary" id="nextBtn" onclick="nextProblem()">Next Problem</button>
            </div>
        </div>
    </div>

    <!-- Calculator Toolbar -->
    <div class="calculator-toolbar">
        <button class="calculator-toggle-btn" onclick="toggleCalculator()">
            Calculator
        </button>
        <div class="calculator-container" id="calculatorContainer">
            <div class="calculator-display">
                <div class="calculator-expression" id="calcExpression">&nbsp;</div>
                <div class="calculator-result" id="calcResult">0</div>
            </div>
            <div class="calculator-buttons">
                <button class="calc-btn calc-btn-clear" onclick="calcClear()">AC</button>
                <button class="calc-btn" onclick="calcBackspace()">Del</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('^')">x^y</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('/')">÷</button>

                <button class="calc-btn" onclick="calcAppend('7')">7</button>
                <button class="calc-btn" onclick="calcAppend('8')">8</button>
                <button class="calc-btn" onclick="calcAppend('9')">9</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('*')">x</button>

                <button class="calc-btn" onclick="calcAppend('4')">4</button>
                <button class="calc-btn" onclick="calcAppend('5')">5</button>
                <button class="calc-btn" onclick="calcAppend('6')">6</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('-')">-</button>

                <button class="calc-btn" onclick="calcAppend('1')">1</button>
                <button class="calc-btn" onclick="calcAppend('2')">2</button>
                <button class="calc-btn" onclick="calcAppend('3')">3</button>
                <button class="calc-btn calc-btn-operator" onclick="calcAppend('+')">+</button>

                <button class="calc-btn" onclick="calcAppend('0')">0</button>
                <button class="calc-btn" onclick="calcAppend('.')">.</button>
                <button class="calc-btn" onclick="calcAppend('(')">(</button>
                <button class="calc-btn" onclick="calcAppend(')')">)</button>

                <button class="calc-btn calc-btn-equals" onclick="calcEquals()" style="grid-column: span 4;">=</button>
            </div>
        </div>
    </div>

    <script>
        window.pageConfig = { topicKey: 'tvm' };

        var problems = [{"id":"tvm_001","topic":"Future Value - Single Cash Flow","difficulty":"easy","problem_text":"You invest $2,000 in a certificate of deposit that pays 5% interest annually. How much will you have after 3 years?","given":{"initial_deposit":2000,"interest_rate":0.05,"periods":3,"compounding":"yearly"},"formula":"FV_n = C(1 + r)^n","solution_steps":["Step 1: Identify the variables: C = $2,000, r = 5% = 0.05, n = 3","Step 2: Apply the future value formula: FV_3 = 2000 × (1.05)^3","Step 3: Calculate: (1.05)^3 = 1.157625","Step 4: FV_3 = 2000 × 1.157625","Step 5: Final answer: FV_3 = $2,315.25"],"correct_answer":2315.25,"tolerance":1,"hints":{"level_1":"Remember that compound interest means multiplying (1 + r) for each year","level_2":"The formula is FV = C(1 + r)^n where C is your initial investment","level_3":"Calculate 2000 × (1.05)^3. First find (1.05)^3 ≈ 1.1576"}},{"id":"tvm_002","topic":"Present Value - Single Cash Flow","difficulty":"easy","problem_text":"You need $10,000 in 2 years for a down payment on a car. Your savings account earns 4% interest annually. How much should you deposit today?","given":{"future_value":10000,"interest_rate":0.04,"periods":2},"formula":"PV = C / (1 + r)^n","solution_steps":["Step 1: Identify the variables: FV = $10,000, r = 4% = 0.04, n = 2","Step 2: Apply the present value formula: PV = 10000 / (1.04)^2","Step 3: Calculate: (1.04)^2 = 1.0816","Step 4: PV = 10000 / 1.0816","Step 5: Final answer: PV = $9,245.56"],"correct_answer":9245.56,"tolerance":1,"hints":{"level_1":"You need to discount the future amount back to today's value","level_2":"The formula is PV = FV / (1 + r)^n","level_3":"Calculate 10000 / (1.04)^2 to find what you need today"}},{"id":"tvm_003","topic":"Present Value - Multiple Periods","difficulty":"medium","problem_text":"Your dream vacation will cost $8,000 in 5 years. If you can earn 3% annually in a savings account, how much do you need to set aside today?","given":{"future_value":8000,"interest_rate":0.03,"periods":5},"formula":"PV = C / (1 + r)^n","solution_steps":["Step 1: Identify the variables: FV = $8,000, r = 3% = 0.03, n = 5","Step 2: Apply the present value formula: PV = 8000 / (1.03)^5","Step 3: Calculate (1.03)^5 = 1.159274","Step 4: PV = 8000 / 1.159274","Step 5: Final answer: PV = $6,901.21"],"correct_answer":6901.21,"tolerance":2,"hints":{"level_1":"You need to discount the $8,000 back 5 years to today","level_2":"Use PV = FV / (1 + r)^n with n = 5","level_3":"Calculate 8000 / (1.03)^5. First find (1.03)^5 ≈ 1.1593"}},{"id":"tvm_004","topic":"Present Value - Annuity","difficulty":"medium","problem_text":"You want to buy a used car and can afford payments of $3,000 at the end of each year for 5 years. If the dealer charges 6% annual interest, how much can you borrow?","given":{"annual_payment":3000,"interest_rate":0.06,"periods":5},"formula":"PV = (C/r) \\times [1 - 1/(1+r)^n]","solution_steps":["Step 1: Identify the variables: C = $3,000, r = 6% = 0.06, n = 5","Step 2: Apply the annuity formula: PV = (3000/0.06) × [1 - 1/(1.06)^5]","Step 3: Calculate 1/(1.06)^5 = 1/1.338226 = 0.747258","Step 4: Calculate [1 - 0.747258] = 0.252742","Step 5: Calculate 3000/0.06 = 50,000","Step 6: PV = 50,000 × 0.252742","Step 7: Final answer: PV = $12,637.09"],"correct_answer":12637.09,"tolerance":5,"hints":{"level_1":"This is an annuity - a series of equal payments over time","level_2":"Use the annuity formula: PV = (C/r) × [1 - 1/(1+r)^n]","level_3":"Calculate (3000/0.06) × [1 - 1/(1.06)^5]"}},{"id":"tvm_005","topic":"Future Value - Annuity","difficulty":"medium","problem_text":"You plan to save $2,000 at the end of each year for 5 years in an account earning 5% annually. How much will you have saved after 5 years?","given":{"annual_payment":2000,"interest_rate":0.05,"periods":5},"formula":"FV = C \\times [(1+r)^n - 1] / r","solution_steps":["Step 1: Calculate future value of each payment:","Payment 1 (end of year 1): 2000 × (1.05)^4 = $2,431.01 (4 years of growth)","Payment 2 (end of year 2): 2000 × (1.05)^3 = $2,315.25 (3 years of growth)","Payment 3 (end of year 3): 2000 × (1.05)^2 = $2,205.00 (2 years of growth)","Payment 4 (end of year 4): 2000 × (1.05)^1 = $2,100.00 (1 year of growth)","Payment 5 (end of year 5): $2,000.00 (no growth)","Step 2: Sum all values: 2431.01 + 2315.25 + 2205.00 + 2100.00 + 2000.00","Step 3: Final answer: FV = $11,051.26"],"correct_answer":11051.26,"tolerance":5,"hints":{"level_1":"Each payment earns interest for a different number of years","level_2":"The first payment grows for 4 years, the second for 3 years, and so on","level_3":"Calculate: 2000×(1.05)^4 + 2000×(1.05)^3 + 2000×(1.05)^2 + 2000×(1.05)^1 + 2000"}},{"id":"tvm_006","topic":"Perpetuity","difficulty":"medium","problem_text":"You want to create a scholarship that pays $5,000 per year forever, starting next year. If the endowment earns 5% annually, how much must you donate today?","given":{"annual_payment":5000,"interest_rate":0.05,"start_time":"next year"},"formula":"PV = C / r","solution_steps":["Step 1: Identify the variables: C = $5,000, r = 5% = 0.05","Step 2: This is a standard perpetuity (first payment in one year)","Step 3: Apply the perpetuity formula: PV = C / r","Step 4: Calculate: PV = 5000 / 0.05","Step 5: Final answer: PV = $100,000"],"correct_answer":100000,"tolerance":1,"hints":{"level_1":"A perpetuity pays forever - use the simple perpetuity formula","level_2":"For a perpetuity starting in one period: PV = C / r","level_3":"Simply divide $5,000 by 0.05"}},{"id":"tvm_007","topic":"Growing Perpetuity","difficulty":"hard","problem_text":"You want to establish a scholarship that pays $8,000 next year and grows by 3% annually forever. If the endowment earns 7% per year, how much must you donate?","given":{"first_payment":8000,"growth_rate":0.03,"interest_rate":0.07},"formula":"PV = C / (r - g)","solution_steps":["Step 1: Identify the variables: C = $8,000, r = 7% = 0.07, g = 3% = 0.03","Step 2: Apply the growing perpetuity formula: PV = C / (r - g)","Step 3: Calculate: PV = 8000 / (0.07 - 0.03)","Step 4: PV = 8000 / 0.04","Step 5: Final answer: PV = $200,000"],"correct_answer":200000,"tolerance":1,"hints":{"level_1":"This perpetuity grows each year - use the growing perpetuity formula","level_2":"For a growing perpetuity: PV = C / (r - g)","level_3":"Calculate: 8000 / (0.07 - 0.03) = 8000 / 0.04"}},{"id":"tvm_008","topic":"Retirement Savings - Annuity","difficulty":"hard","problem_text":"You are 25 years old and plan to retire at 65. You'll need $100,000 per year for 25 years of retirement, with the first payment on your 65th birthday. If your account earns 6% annually, how much must you save today?","given":{"retirement_age":65,"current_age":25,"annual_need":100000,"retirement_years":25,"interest_rate":0.06},"formula":"Two-step: Find PV at age 64, then discount to today","solution_steps":["Step 1: Find how much you need at age 64 (one year before first payment)","This is a 25-year annuity: PV_64 = (100000/0.06) × [1 - 1/(1.06)^25]","Step 2: Calculate: [1 - 1/(1.06)^25] = [1 - 0.233] = 0.767","Step 3: PV_64 = 1,666,667 × 0.767 = $1,278,333","Step 4: Now discount back 40 years (from age 64 to age 25)","PV_0 = 1,278,333 / (1.06)^40","Step 5: Calculate: (1.06)^40 = 10.2857","Step 6: PV_0 = 1,278,333 / 10.2857","Step 7: Final answer: PV_0 = $124,254"],"correct_answer":124254,"tolerance":500,"hints":{"level_1":"This is a two-step problem: find the value needed at retirement, then discount to today","level_2":"Step 1: Find PV of 25-year annuity at age 64. Step 2: Discount that back 40 years","level_3":"Calculate: [(100000/0.06) × (1 - 1/(1.06)^25)] / (1.06)^40"}},{"id":"tvm_009","topic":"Mortgage Payments","difficulty":"medium","problem_text":"You purchase a home for $800,000 and make a $200,000 down payment. You finance the rest with a 30-year mortgage at 4% annual interest. What is your annual payment?","given":{"house_price":800000,"down_payment":200000,"loan_amount":600000,"rate":0.04,"years":30},"formula":"Solve for C: PV = (C/r) \\times [1 - 1/(1+r)^n]","solution_steps":["Step 1: Loan amount = $800,000 - $200,000 = $600,000","Step 2: Set up equation: 600,000 = (C/0.04) × [1 - 1/(1.04)^30]","Step 3: Calculate [1 - 1/(1.04)^30] = [1 - 0.3083] = 0.6917","Step 4: Simplify: 600,000 = (C/0.04) × 0.6917","Step 5: 600,000 = C × 17.292","Step 6: Solve for C: C = 600,000 / 17.292","Step 7: Final answer: C = $34,692.65"],"correct_answer":34692.65,"tolerance":20,"hints":{"level_1":"First calculate the loan amount, then solve the annuity formula for the payment","level_2":"Loan = $600,000. Use: PV = (C/r) × [1 - 1/(1+r)^n] and solve for C","level_3":"Rearrange to: C = PV × r / [1 - 1/(1+r)^n]"}},{"id":"tvm_010","topic":"Net Present Value","difficulty":"medium","problem_text":"You're deciding between two light bulbs: incandescent ($2/year electricity, replaced yearly) or LED ($50 upfront, lasts 15 years with $0.50/year electricity). Using an 8% discount rate, what is the NPV of switching to LED?","given":{"incandescent_annual_cost":2,"led_upfront_cost":50,"led_annual_cost":0.50,"years":15,"discount_rate":0.08},"formula":"NPV = Benefits - Costs","solution_steps":["Step 1: Calculate PV of incandescent costs (15-year annuity)","PV_incandescent = (2/0.08) × [1 - 1/(1.08)^15] = 25 × 0.685 = $17.12","Step 2: Calculate PV of LED costs","PV_LED_electricity = (0.50/0.08) × [1 - 1/(1.08)^15] = 6.25 × 0.685 = $4.28","Total LED cost = $50 + $4.28 = $54.28","Step 3: NPV = PV of incandescent costs - PV of LED costs","NPV = $17.12 - $54.28","Step 4: Final answer: NPV = -$37.16 (LED costs more in NPV terms)"],"correct_answer":-37.16,"tolerance":1,"hints":{"level_1":"Compare the present value of both options over 15 years","level_2":"Find PV of incandescent electricity costs and PV of LED total costs","level_3":"NPV = PV(incandescent) - PV(LED upfront + LED electricity)"}}];
    </script>
    <script src="practice.js"></script>
</body>
</html>
