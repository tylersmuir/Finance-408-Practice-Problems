<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Midterm 2 - MGMT 408</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: #f7fafc;
            color: #1a1a1a;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            background-color: #2C5282;
            color: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 12px;
            text-align: center;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1.5rem;
            color: #2C5282;
            text-decoration: none;
            font-weight: 500;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .progress-bar {
            background-color: #E2E8F0;
            border-radius: 8px;
            height: 8px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-fill {
            background-color: #48BB78;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            margin-bottom: 1rem;
            color: #4A5568;
            font-size: 0.9rem;
        }

        .question-card {
            background: white;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .question-number {
            font-size: 0.875rem;
            font-weight: 600;
            color: #2C5282;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .question-status {
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-weight: 500;
        }

        .status-unanswered {
            background-color: #FED7D7;
            color: #C53030;
        }

        .status-answered {
            background-color: #C6F6D5;
            color: #276749;
        }

        .question-text {
            font-size: 1.1rem;
            color: #2D3748;
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .question-context {
            background-color: #F7FAFC;
            border-left: 4px solid #2C5282;
            padding: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
            color: #4A5568;
        }

        .options-list {
            list-style: none;
        }

        .option-item {
            margin-bottom: 0.75rem;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 2px solid #E2E8F0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-label:hover {
            border-color: #2C5282;
            background-color: #EBF8FF;
        }

        .option-label.selected {
            border-color: #2C5282;
            background-color: #EBF8FF;
        }

        .option-label.correct {
            border-color: #48BB78;
            background-color: #C6F6D5;
        }

        .option-label.incorrect {
            border-color: #FC8181;
            background-color: #FED7D7;
        }

        .option-radio {
            display: none;
        }

        .option-marker {
            width: 24px;
            height: 24px;
            border: 2px solid #CBD5E0;
            border-radius: 50%;
            margin-right: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.8rem;
            color: #718096;
            flex-shrink: 0;
        }

        .option-label.selected .option-marker {
            border-color: #2C5282;
            background-color: #2C5282;
            color: white;
        }

        .option-label.correct .option-marker {
            border-color: #48BB78;
            background-color: #48BB78;
            color: white;
        }

        .option-label.incorrect .option-marker {
            border-color: #FC8181;
            background-color: #FC8181;
            color: white;
        }

        .option-text {
            font-size: 1rem;
            color: #2D3748;
        }

        .solution-box {
            display: none;
            margin-top: 1.5rem;
            padding: 1.5rem;
            background-color: #F0FFF4;
            border: 1px solid #9AE6B4;
            border-radius: 8px;
        }

        .solution-box.show {
            display: block;
        }

        .solution-title {
            font-weight: 600;
            color: #276749;
            margin-bottom: 0.75rem;
        }

        .solution-content {
            color: #2D3748;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .solution-formula {
            background-color: white;
            padding: 1rem;
            border-radius: 6px;
            margin-top: 0.75rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        .submit-section {
            text-align: center;
            margin-top: 2rem;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            border: 2px solid #E2E8F0;
        }

        .submit-btn {
            background-color: #2C5282;
            color: white;
            padding: 1rem 3rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .submit-btn:hover {
            background-color: #2A4365;
        }

        .submit-btn:disabled {
            background-color: #A0AEC0;
            cursor: not-allowed;
        }

        .results-box {
            display: none;
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            border: 2px solid #E2E8F0;
            margin-top: 2rem;
        }

        .results-box.show {
            display: block;
        }

        .results-score {
            font-size: 3rem;
            font-weight: 700;
            color: #2C5282;
            margin-bottom: 0.5rem;
        }

        .results-text {
            font-size: 1.1rem;
            color: #4A5568;
            margin-bottom: 1.5rem;
        }

        .results-breakdown {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }

        .breakdown-item {
            text-align: center;
        }

        .breakdown-number {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .breakdown-label {
            font-size: 0.875rem;
            color: #718096;
        }

        .correct-color {
            color: #48BB78;
        }

        .incorrect-color {
            color: #FC8181;
        }

        .retry-btn {
            background-color: #48BB78;
            color: white;
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-right: 1rem;
        }

        .retry-btn:hover {
            background-color: #38A169;
        }

        footer {
            text-align: center;
            margin-top: 4rem;
            padding: 2rem;
            color: #718096;
            font-size: 0.875rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            .question-card {
                padding: 1.5rem;
            }

            .option-label {
                padding: 0.75rem;
            }

            .results-breakdown {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="midterm.html" class="back-link">&larr; Back to Practice Midterms</a>

        <header>
            <h1>Practice Midterm 2</h1>
            <div class="subtitle">20 Multiple Choice Questions</div>
        </header>

        <div class="progress-text">
            <span id="answered-count">0</span> of 20 questions answered
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div id="questions-container"></div>

        <div class="submit-section" id="submit-section">
            <p style="margin-bottom: 1rem; color: #4A5568;">Answer all questions, then submit to see your results.</p>
            <button class="submit-btn" id="submit-btn" onclick="submitExam()">Submit Exam</button>
        </div>

        <div class="results-box" id="results-box">
            <div class="results-score" id="results-score">0%</div>
            <div class="results-text" id="results-text">You got 0 out of 20 correct</div>
            <div class="results-breakdown">
                <div class="breakdown-item">
                    <div class="breakdown-number correct-color" id="correct-count">0</div>
                    <div class="breakdown-label">Correct</div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-number incorrect-color" id="incorrect-count">0</div>
                    <div class="breakdown-label">Incorrect</div>
                </div>
            </div>
            <button class="retry-btn" onclick="location.reload()">Try Again</button>
            <a href="midterm.html" class="retry-btn" style="text-decoration: none; display: inline-block;">Back to Midterms</a>
        </div>

        <footer>
            UCLA Anderson School of Management
        </footer>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                context: "Your great aunt Matilda put some money in an account for you on the day you were born. This account pays 8% interest per year. On your 21st birthday the account balance was $5,033.83.",
                question: "The amount of money that your great aunt Matilda originally put in the account is closest to:",
                options: [
                    { label: "a", text: "$600" },
                    { label: "b", text: "$1,000" },
                    { label: "c", text: "$800" },
                    { label: "d", text: "$1,200" }
                ],
                correctAnswer: "b",
                solution: "PV = FV / (1 + r)^n = $5,033.83 / (1.08)^21 = $1,000",
                formula: "PV = 5,033.83 / (1.08)^21 = 1,000"
            },
            {
                id: 2,
                context: "Consider the following timeline:\n\nDate:      0       1       2       3\nCash:      0     $600  $1,200  $1,800",
                question: "At an annual interest rate of 7%, the present value of this timeline in year 0 is closest to:",
                options: [
                    { label: "a", text: "$3,080" },
                    { label: "b", text: "$3,600" },
                    { label: "c", text: "$3,770" },
                    { label: "d", text: "$4,035" }
                ],
                correctAnswer: "a",
                solution: "PV = 0 + 600/1.07 + 1,200/1.07^2 + 1,800/1.07^3 = $3,078.21 ≈ $3,080",
                formula: "PV = 600/1.07 + 1,200/1.07^2 + 1,800/1.07^3 = 3,078.21"
            },
            {
                id: 3,
                context: "Joe just inherited the family business, and having no desire to run the family business, he has decided to sell it to an entrepreneur. In exchange for the family business, Joe has been offered an immediate payment of $100,000. Joe will also receive payments of $50,000 in one year, $50,000 in two years, and $75,000 in three years. The current market rate of interest for Joe is 6%.",
                question: "In terms of present value, how much will Joe receive for selling the family business?",
                options: [
                    { label: "a", text: "$254,641" },
                    { label: "b", text: "$240,227" },
                    { label: "c", text: "$275,000" },
                    { label: "d", text: "$231,123" },
                    { label: "e", text: "$219,759" }
                ],
                correctAnswer: "a",
                solution: "PV = 100,000 + 50,000/1.06 + 50,000/1.06^2 + 75,000/1.06^3 = $254,641.08",
                formula: "PV = 100,000 + 50,000/1.06 + 50,000/1.06^2 + 75,000/1.06^3 = 254,641"
            },
            {
                id: 4,
                context: null,
                question: "The British government has a consol bond outstanding that pays £100 in interest each year. Assuming that the current interest rate in Great Britain is 5% and that you will receive your first interest payment one year from now, then the value of the consol bond is closest to:",
                options: [
                    { label: "a", text: "£1,100" },
                    { label: "b", text: "£1,000" },
                    { label: "c", text: "£2,100" },
                    { label: "d", text: "£2,000" }
                ],
                correctAnswer: "d",
                solution: "PV of perpetuity = C/r = 100/0.05 = £2,000",
                formula: "PV = C/r = 100/0.05 = 2,000"
            },
            {
                id: 5,
                context: null,
                question: "Your son starts kindergarten at a private school in one year. Next year, the annual tuition will be $12,000, payable at the start of the school year. You expect annual tuition increases to average 6% per year over the next 13 years. Assuming that your son remains in this private school through high school and that your current interest rate is 7%, then the present value of your son's private school education is closest to:",
                options: [
                    { label: "a", text: "$137,900" },
                    { label: "b", text: "$155,800" },
                    { label: "c", text: "$156,000" },
                    { label: "d", text: "$332,300" }
                ],
                correctAnswer: "a",
                solution: "This is a growing annuity:\nPV = [12,000/(0.07-0.06)] × [1 - (1.06/1.07)^13] = $137,892.72",
                formula: "PV = [12,000/(0.07-0.06)] × [1 - (1.06/1.07)^13] = 137,892.72"
            },
            {
                id: 6,
                context: "Boulderado has come up with a new composite snowboard. Development will take Boulderado four years and cost $250,000 per year, with the first of the four equal investments payable today upon acceptance of the project. Once in production the snowboard is expected to produce annual cash flows of $200,000 each year for 10 years. Boulderado's discount rate is 10%.",
                question: "The NPV for Boulderado's snowboard project is closest to:",
                options: [
                    { label: "a", text: "$23,800" },
                    { label: "b", text: "$228,900" },
                    { label: "c", text: "$46,900" },
                    { label: "d", text: "$51,600" }
                ],
                correctAnswer: "d",
                solution: "Cost PV (annuity due) = (-250,000/0.10)[1 - 1/1.10^4] × 1.10 = -$869,460\nBenefit PV (delayed annuity) = (200,000/0.10)[1 - 1/1.10^10] × (1/1.10^3) = $921,048\nNPV = $921,048 - $869,460 = $51,588 ≈ $51,600",
                formula: "NPV = PV(benefits) - PV(costs) = 51,588"
            },
            {
                id: 7,
                context: "You are considering investing in a start up project at a cost of $100,000. You expect the project to return $500,000 to you in seven years. Given the risk of this project, your cost of capital is 20%.",
                question: "The NPV for this project is closest to:",
                options: [
                    { label: "a", text: "$39,500" },
                    { label: "b", text: "$129,200" },
                    { label: "c", text: "$29,200" },
                    { label: "d", text: "$139,500" }
                ],
                correctAnswer: "a",
                solution: "NPV = -100,000 + 500,000/(1.20)^7 = -100,000 + 139,541 = $39,541 ≈ $39,500",
                formula: "NPV = -100,000 + 500,000/(1.20)^7 = 39,541"
            },
            {
                id: 8,
                context: null,
                question: "You are trying to decide between three mutually exclusive investment opportunities. The most appropriate tool for identifying the correct decision is:",
                options: [
                    { label: "a", text: "NPV" },
                    { label: "b", text: "Profitability index" },
                    { label: "c", text: "Incremental IRR" },
                    { label: "d", text: "IRR" }
                ],
                correctAnswer: "a",
                solution: "NPV is the most appropriate tool for deciding between mutually exclusive projects because it measures the actual value created. IRR and PI can give misleading rankings when projects have different scales or timing.",
                formula: "NPV is the correct decision tool for mutually exclusive projects"
            },
            {
                id: 9,
                context: "Consider the following two projects:\n\nProject Alpha: Year 0 = -79, Year 1 = 20, Year 2 = 25, Year 3 = 30, Year 4 = 35, Year 5 = 40, Discount Rate = 15%\nProject Beta: Year 0 = -80, Years 1-7 = 25 each, Discount Rate = 16%",
                question: "Assume that projects Alpha and Beta are mutually exclusive. The correct investment decision and the best rationale for that decision is to:",
                options: [
                    { label: "a", text: "invest in project Beta since IRR(Beta) > IRR(Alpha)" },
                    { label: "b", text: "invest in project Alpha since NPV(Beta) < NPV(Alpha)" },
                    { label: "c", text: "invest in project Beta since NPV(Beta) > 0" },
                    { label: "d", text: "invest in project Beta since NPV(Beta) > NPV(Alpha) > 0" }
                ],
                correctAnswer: "d",
                solution: "NPV(Alpha) = -79 + 20/1.15 + 25/1.15^2 + 30/1.15^3 + 35/1.15^4 + 40/1.15^5 = $16.92\nNPV(Beta) = -80 + (25/0.16)[1 - 1/1.16^7] = $20.96\nSince NPV(Beta) > NPV(Alpha) > 0, choose Beta using NPV rule.",
                formula: "NPV(Alpha) = 16.92, NPV(Beta) = 20.96\nChoose Beta"
            },
            {
                id: 10,
                context: "Consider the following list of projects:\n\nProject A: Investment $135,000, NPV $6,000\nProject B: Investment $200,000, NPV $30,000\nProject C: Investment $125,000, NPV $20,000\nProject D: Investment $150,000, NPV $2,000\nProject E: Investment $175,000, NPV $10,000\nProject F: Investment $75,000, NPV $10,000\nProject G: Investment $80,000, NPV $9,000\nProject H: Investment $200,000, NPV $20,000\nProject I: Investment $50,000, NPV $4,000",
                question: "Assume that your capital is constrained, so that you only have $500,000 available to invest in projects. If you invest in the optimal combination of projects given your capital constraint, then the total NPV for all the projects you invest in will be closest to:",
                options: [
                    { label: "a", text: "$69,000" },
                    { label: "b", text: "$58,000" },
                    { label: "c", text: "$80,000" },
                    { label: "d", text: "$111,000" }
                ],
                correctAnswer: "a",
                solution: "Rank by Profitability Index (NPV/Investment):\nC: 0.16, B: 0.15, F: 0.13, G: 0.11, H: 0.10, I: 0.08, E: 0.06, A: 0.04, D: 0.01\n\nSelect in order: C ($125K), B ($200K), F ($75K), G ($80K) = $480K total\nTotal NPV = $20K + $30K + $10K + $9K = $69,000",
                formula: "Projects C, B, F, G: Total Investment = $480K, Total NPV = $69K"
            },
            {
                id: 11,
                context: "Rearden Metals has a current stock price of $30 per share, is expected to pay a dividend of $1.20 in one year, and its expected price right after paying that dividend is $33.",
                question: "Rearden's expected dividend yield is closest to:",
                options: [
                    { label: "a", text: "3.40%" },
                    { label: "b", text: "3.65%" },
                    { label: "c", text: "4.20%" },
                    { label: "d", text: "4.00%" }
                ],
                correctAnswer: "d",
                solution: "Dividend Yield = D1/P0 = $1.20/$30 = 0.04 = 4.00%",
                formula: "Dividend Yield = 1.20/30 = 4.00%"
            },
            {
                id: 12,
                context: null,
                question: "Which of the following statements is FALSE?",
                options: [
                    { label: "a", text: "According to the constant dividend growth model, the value of the firm depends on the current dividend level, divided by the equity cost of capital plus the growth rate." },
                    { label: "b", text: "A firm can only pay out its earnings to investors or reinvest their earnings." },
                    { label: "c", text: "Successful young firms often have high initial earnings growth rates." },
                    { label: "d", text: "Estimating dividends, especially for the distant future, is difficult." }
                ],
                correctAnswer: "a",
                solution: "Statement (a) is FALSE. The Gordon Growth Model states: P0 = D1/(r - g), where the denominator is (r minus g), not (r plus g).",
                formula: "Correct formula: P0 = D1/(r - g), not D1/(r + g)"
            },
            {
                id: 13,
                context: null,
                question: "Kinston Industries just announced that it will cut its dividend from $3.00 to $2.00 per share and use the extra funds to expand its operations. Kinston's dividends were expected to grow at a 2% rate, and its share price was $37.50. With the new expansion, Kinston dividends are expected to grow at a 5% rate. Kinston's share price following this announcement should be:",
                options: [
                    { label: "a", text: "$20.00" },
                    { label: "b", text: "$40.00" },
                    { label: "c", text: "$37.50" },
                    { label: "d", text: "$30.00" }
                ],
                correctAnswer: "b",
                solution: "First, find the required return: r = D1/P0 + g = 3.00/37.50 + 0.02 = 0.10 = 10%\nNew price with higher growth: P0 = 2.00/(0.10 - 0.05) = $40.00",
                formula: "r = 3/37.50 + 0.02 = 10%\nNew P0 = 2.00/(0.10 - 0.05) = 40.00"
            },
            {
                id: 14,
                context: "The Sisyphean Company has a bond outstanding with a face value of $1,000 that reaches maturity in 15 years. The bond certificate indicates that the stated coupon rate for this bond is 8% and that the coupon payments are to be made semiannually.",
                question: "How much will each semiannual coupon payment be?",
                options: [
                    { label: "a", text: "$40" },
                    { label: "b", text: "$120" },
                    { label: "c", text: "$80" },
                    { label: "d", text: "$60" }
                ],
                correctAnswer: "a",
                solution: "Semiannual coupon = Face Value × (Annual Coupon Rate / 2) = $1,000 × (0.08/2) = $40",
                formula: "Coupon = 1,000 × 0.08/2 = $40"
            },
            {
                id: 15,
                context: null,
                question: "Your bond broker offers to sell you a zero-coupon bond at a price of $95.2. If the bond matures in one year and has a face value of $100, what is its yield-to-maturity?",
                options: [
                    { label: "a", text: "You don't have enough information." },
                    { label: "b", text: "0.07" },
                    { label: "c", text: "0.05" },
                    { label: "d", text: "0.04" },
                    { label: "e", text: "0.09" }
                ],
                correctAnswer: "c",
                solution: "YTM = (Face Value / Price) - 1 = (100/95.2) - 1 = 0.0504 ≈ 5%",
                formula: "YTM = (100/95.2) - 1 = 0.05 or 5%"
            },
            {
                id: 16,
                context: null,
                question: "Consider a zero-coupon bond with a $1,000 face value and 10 years left until maturity. If the bond is currently trading for $459, then the yield to maturity on this bond is closest to:",
                options: [
                    { label: "a", text: "10.4%" },
                    { label: "b", text: "9.7%" },
                    { label: "c", text: "8.1%" },
                    { label: "d", text: "7.5%" }
                ],
                correctAnswer: "c",
                solution: "YTM = (Face Value / Price)^(1/n) - 1 = (1000/459)^(1/10) - 1 = 0.081 = 8.1%",
                formula: "YTM = (1000/459)^(1/10) - 1 = 8.1%"
            },
            {
                id: 17,
                context: "Suppose the current term structure is as follows:\n\nMaturity (years): 1, 2, 3, 4, 5\nYTM: 3.25%, 3.50%, 3.90%, 4.25%, 4.40%\n\nwhere YTM indicates the yield on a zero-coupon bond.",
                question: "The price per $100 face value of a four-year, zero-coupon, risk-free bond is closest to:",
                options: [
                    { label: "a", text: "$89.16" },
                    { label: "b", text: "$84.66" },
                    { label: "c", text: "$86.39" },
                    { label: "d", text: "$90.06" }
                ],
                correctAnswer: "b",
                solution: "Price = Face Value / (1 + YTM)^n = 100 / (1.0425)^4 = $84.66",
                formula: "Price = 100/(1.0425)^4 = 84.66"
            },
            {
                id: 18,
                context: null,
                question: "What is the present value of an annuity paying $1,000 a year for 6 years starting 1 year from now, using the interest rate of 9%?",
                options: [
                    { label: "a", text: "3,240" },
                    { label: "b", text: "6,000" },
                    { label: "c", text: "4,486" },
                    { label: "d", text: "3,890" },
                    { label: "e", text: "2,531" }
                ],
                correctAnswer: "c",
                solution: "PV = (C/r)[1 - 1/(1+r)^n] = (1000/0.09)[1 - 1/(1.09)^6] = $4,485.92 ≈ $4,486",
                formula: "PV = (1000/0.09)[1 - 1/(1.09)^6] = 4,485.92"
            },
            {
                id: 19,
                context: null,
                question: "You would like to endow a scholarship for FEMBA students at Anderson. You plan on giving $100,000 dollars to the university for this purpose. Every year for all time, the scholarship will pay an award to one lucky student. These awards are scheduled to start next year. To keep up with the rising cost of tuition, the award will grow at a rate of 4% a year after the first year. If the university will invest your endowment in a savings account that earns 5.5% interest, what will the award be in the first year?",
                options: [
                    { label: "a", text: "$4,000" },
                    { label: "b", text: "$1,500" },
                    { label: "c", text: "$5,500" },
                    { label: "d", text: "$3,500" },
                    { label: "e", text: "$2,500" }
                ],
                correctAnswer: "b",
                solution: "For a growing perpetuity: PV = C/(r - g)\nSolving for C: C = PV × (r - g) = $100,000 × (0.055 - 0.04) = $1,500",
                formula: "C = PV × (r - g) = 100,000 × (0.055 - 0.04) = 1,500"
            },
            {
                id: 20,
                context: "You have been entrusted with $10 million of your firm's capital to invest, i.e., you can invest up to, and no more than, $10 million in new projects. You have 3 projects to choose from and they have the following free cash flows (in millions):\n\nProject A: Year 0 = -5, Year 1 = 0, Year 2 = 10\nProject B: Year 0 = -4, Year 1 = 2, Year 2 = 6\nProject C: Year 0 = -6, Year 1 = 3, Year 2 = 8\n\nThe opportunity cost of capital for all 3 projects is 10%.",
                question: "Which projects should you choose?",
                options: [
                    { label: "a", text: "Projects A and B" },
                    { label: "b", text: "Project A alone" },
                    { label: "c", text: "Project B alone" },
                    { label: "d", text: "Projects B and C" }
                ],
                correctAnswer: "d",
                solution: "NPV(A) = -5 + 0/1.10 + 10/1.10^2 = $3.26M, PI(A) = 3.26/5 = 0.65\nNPV(B) = -4 + 2/1.10 + 6/1.10^2 = $2.78M, PI(B) = 2.78/4 = 0.69\nNPV(C) = -6 + 3/1.10 + 8/1.10^2 = $3.34M, PI(C) = 3.34/6 = 0.56\n\nWith $10M budget: B ($4M) + C ($6M) = $10M gives NPV = $2.78M + $3.34M = $6.12M\nA ($5M) + B ($4M) = $9M gives NPV = $3.26M + $2.78M = $6.04M\n\nChoose B and C for higher total NPV.",
                formula: "B + C: Investment = $10M, Total NPV = $6.12M (highest)"
            }
        ];

        let userAnswers = {};
        let examSubmitted = false;

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = '';

            questions.forEach((q, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `question-${q.id}`;

                let contextHTML = '';
                if (q.context) {
                    contextHTML = `<div class="question-context">${q.context.replace(/\n/g, '<br>')}</div>`;
                }

                let optionsHTML = q.options.map(opt => `
                    <li class="option-item">
                        <label class="option-label" id="option-${q.id}-${opt.label}" onclick="selectAnswer(${q.id}, '${opt.label}')">
                            <input type="radio" name="q${q.id}" value="${opt.label}" class="option-radio">
                            <span class="option-marker">${opt.label.toUpperCase()}</span>
                            <span class="option-text">${opt.text}</span>
                        </label>
                    </li>
                `).join('');

                card.innerHTML = `
                    <div class="question-header">
                        <span class="question-number">Question ${q.id}</span>
                        <span class="question-status status-unanswered" id="status-${q.id}">Unanswered</span>
                    </div>
                    ${contextHTML}
                    <div class="question-text">${q.question.replace(/\n/g, '<br>')}</div>
                    <ul class="options-list">
                        ${optionsHTML}
                    </ul>
                    <div class="solution-box" id="solution-${q.id}">
                        <div class="solution-title">Solution</div>
                        <div class="solution-content">${q.solution}</div>
                        <div class="solution-formula">${q.formula}</div>
                    </div>
                `;

                container.appendChild(card);
            });
        }

        function selectAnswer(questionId, answer) {
            if (examSubmitted) return;

            userAnswers[questionId] = answer;

            // Update visual selection
            questions.find(q => q.id === questionId).options.forEach(opt => {
                const label = document.getElementById(`option-${questionId}-${opt.label}`);
                label.classList.remove('selected');
            });
            document.getElementById(`option-${questionId}-${answer}`).classList.add('selected');

            // Update status
            const status = document.getElementById(`status-${questionId}`);
            status.textContent = 'Answered';
            status.className = 'question-status status-answered';

            updateProgress();
        }

        function updateProgress() {
            const answeredCount = Object.keys(userAnswers).length;
            document.getElementById('answered-count').textContent = answeredCount;
            document.getElementById('progress-fill').style.width = `${(answeredCount / questions.length) * 100}%`;
        }

        function submitExam() {
            examSubmitted = true;
            let correctCount = 0;

            questions.forEach(q => {
                const userAnswer = userAnswers[q.id];
                const isCorrect = userAnswer === q.correctAnswer;

                if (isCorrect) correctCount++;

                // Show correct/incorrect styling
                q.options.forEach(opt => {
                    const label = document.getElementById(`option-${q.id}-${opt.label}`);
                    label.classList.remove('selected');

                    if (opt.label === q.correctAnswer) {
                        label.classList.add('correct');
                    } else if (opt.label === userAnswer && !isCorrect) {
                        label.classList.add('incorrect');
                    }
                });

                // Show solution
                document.getElementById(`solution-${q.id}`).classList.add('show');
            });

            // Show results
            const percentage = Math.round((correctCount / questions.length) * 100);
            document.getElementById('results-score').textContent = `${percentage}%`;
            document.getElementById('results-text').textContent = `You got ${correctCount} out of ${questions.length} correct`;
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('incorrect-count').textContent = questions.length - correctCount;
            document.getElementById('results-box').classList.add('show');
            document.getElementById('submit-section').style.display = 'none';

            // Scroll to results
            document.getElementById('results-box').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize
        renderQuestions();
    </script>
</body>
</html>
